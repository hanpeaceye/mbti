<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-33VJ9T8RW5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-33VJ9T8RW5');
    </script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MBTIë¡œ ë³´ëŠ” ê¶í•©</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
        <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;800&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
        
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .chemistry-card { background: linear-gradient(145deg, #ffffff, #f1f5f9); border: 1px solid #e2e8f0; }
        .vs-badge { background: linear-gradient(45deg, #3b82f6, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        /* ë§í’ì„  ë””í…Œì¼ */
        .bubble-left::before { content: ''; position: absolute; left: -12px; top: 24px; border-width: 12px 12px 12px 0; border-color: transparent white transparent transparent; filter: drop-shadow(-2px 0 2px rgba(0,0,0,0.05)); }
        .bubble-right::before { content: ''; position: absolute; right: -12px; top: 24px; border-width: 12px 0 12px 12px; border-color: transparent white transparent transparent; filter: drop-shadow(2px 0 2px rgba(0,0,0,0.05)); }
        
        .coupang-btn-gradient { background: linear-gradient(to right, #e11f1f, #ff9000); box-shadow: 0 4px 15px rgba(225, 31, 31, 0.3); }
        
        .shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; border-color: #ef4444 !important; }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }
    </style>
</head>
<body class="text-slate-800 min-h-screen">

    <div class="w-full max-w-5xl mx-auto px-4 py-10">

        <div id="input-page" class="flex flex-col justify-center min-h-[85vh] fade-in">
            <div class="text-center mb-12">
                <span class="inline-block bg-white border border-slate-200 text-slate-500 text-xs font-bold px-4 py-1.5 rounded-full mb-4 shadow-sm tracking-wide">MBTIë¡œ ì•Œì•„ë³´ëŠ” 128ê°€ì§€ ì¡°í•©ì— ëŒ€í•œ ì´ì•¼ê¸°</span>
                <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-4 leading-tight">MBTIë¡œ ì•Œì•„ë³´ëŠ” <br class="md:hidden">ìš°ë¦¬ê°€ ì‹¸ìš°ëŠ” ì´ìœ ğŸ§©</h1>
                <p class="text-slate-500 text-base md:text-lg">ë‚˜ì™€ ì—°ì¸ì˜ MBTIë¥¼ ì…ë ¥í•˜ë©´ AIê°€ ë¶„ì„í•œ ê²°ê³¼ê°€ ë‚˜ì™€ìš”!</p>
            </div>

            <div class="bg-white rounded-[2rem] p-8 md:p-12 shadow-2xl shadow-slate-200/60 max-w-3xl mx-auto w-full border border-white">
                <div class="flex flex-col gap-10">
                    <div class="flex flex-col md:flex-row items-center justify-between gap-8">
                        <div class="w-full group">
                            <label class="block text-sm font-bold text-blue-600 mb-3 ml-2 group-hover:text-blue-700 transition-colors">ë‚˜ì˜ MBTI</label>
                            <div class="relative">
                                <input id="mbti-a" list="mbti-list" oninput="this.value = this.value.toUpperCase()" class="w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-5 text-center text-3xl font-black uppercase text-slate-800 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition placeholder-slate-300 tracking-widest" placeholder="ENTP" maxlength="4">
                                <div class="absolute left-5 top-1/2 -translate-y-1/2 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-500"><i class="fas fa-user"></i></div>
                            </div>
                        </div>
                        <span class="text-5xl font-black italic vs-badge transform md:rotate-12">VS</span>
                        <div class="w-full group">
                            <label class="block text-sm font-bold text-pink-600 mb-3 ml-2 group-hover:text-pink-700 transition-colors">ìƒëŒ€ë°© MBTI</label>
                            <div class="relative">
                                <input id="mbti-b" list="mbti-list" oninput="this.value = this.value.toUpperCase()" class="w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-5 text-center text-3xl font-black uppercase text-slate-800 focus:border-pink-500 focus:ring-4 focus:ring-pink-100 outline-none transition placeholder-slate-300 tracking-widest" placeholder="ISFJ" maxlength="4">
                                <div class="absolute left-5 top-1/2 -translate-y-1/2 w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center text-pink-500"><i class="fas fa-heart"></i></div>
                            </div>
                        </div>
                    </div>
                    <button id="analyze-btn" class="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-6 rounded-2xl shadow-xl hover:shadow-2xl text-xl active:scale-[0.98] transition-all duration-300 flex items-center justify-center gap-3 group">
                        <span>ê²°ê³¼ í™•ì¸í•˜ê¸°</span> <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="result-page" class="hidden fade-in pb-20">
            <div class="max-w-4xl mx-auto mb-8 flex items-center justify-between">
                <button id="back-btn" class="text-slate-400 hover:text-slate-800 font-bold flex items-center gap-2 transition-colors px-4 py-2 rounded-lg hover:bg-slate-100">
                    <i class="fas fa-arrow-left"></i> ì²˜ìŒìœ¼ë¡œ
                </button>
                <span class="text-xs font-bold text-slate-300 bg-slate-100 px-3 py-1 rounded-full">16 TYPES ANALYSIS</span>
            </div>
            <div id="result-content"></div>
        </div>

    </div>

    <datalist id="mbti-list"></datalist>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // 0. ìœ íš¨ì„± ê²€ì‚¬ ëª©ë¡
            const validMbtiList = [
                "ISTJ", "ISFJ", "INFJ", "INTJ", "ISTP", "ISFP", "INFP", "INTP",
                "ESTP", "ESFP", "ENFP", "ENTP", "ESTJ", "ESFJ", "ENFJ", "ENTJ"
            ];

            // 1. [ê°œë³„ ë°ì´í„°] 16ê°€ì§€ ìœ í˜• ê°ê°ì˜ íŠ¹ì§• (ê° 2ê°œ ë²„ì „)
            // ê¸°ì¡´ ê¸°ëŠ¥(Ne, Si) ê¸°ë°˜ì´ ì•„ë‹Œ, MBTI ìœ í˜• ìì²´ì— ëŒ€í•œ ë°ì´í„°ì…ë‹ˆë‹¤.
            const mbtiTraits = {
                "ENTP": [
                    { tag: "ğŸ¤ ì•„ì´ë””ì–´ ë±…í¬", desc: "ì„¸ìƒ ëª¨ë“  ê²ƒì— ì‹œë¹„ë¥¼ ê±¸ê³  í† ë¡ í•˜ê³  ì‹¶ì–´ í•©ë‹ˆë‹¤. ê²‰ìœ¼ë¡  ì¥ë‚œê¾¸ëŸ¬ê¸° ê°™ì§€ë§Œ ë¨¸ë¦¿ì†ì€ ì‚¬ì—… êµ¬ìƒìœ¼ë¡œ ê°€ë“ ì°¨ ìˆì£ .", strength: "ì°½ì˜ë ¥ê³¼ ì„ê¸°ì‘ë³€", weakness: "ì§€ë£¨í•¨ì„ ëª» ê²¬ë”¤" },
                    { tag: "ğŸ¤¡ ì²œì¬ì ì¸ ì•…ë™", desc: "ë‚¨ë“¤ì´ 'ì˜ˆ' í•  ë•Œ 'ì•„ë‹ˆì˜¤'ë¼ê³  ë§í•˜ë©° í¬ì—´ì„ ëŠë‚ë‹ˆë‹¤. ì—‰ëš±í•˜ì§€ë§Œ ê²°ì •ì ì¸ ìˆœê°„ì— ì²œì¬ì„±ì„ ë°œíœ˜í•©ë‹ˆë‹¤.", strength: "í˜ì‹ ì ì¸ ë¬¸ì œí•´ê²°", weakness: "ë§ˆë¬´ë¦¬ ë¶€ì¡±" }
                ],
                "ISTJ": [
                    { tag: "ğŸ“‰ ì¸ê°„ ì—‘ì…€ íŒŒì¼", desc: "ì•½ì† ì‹œê°„ 1ë¶„ë„ ì–´ê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤. ëª¨ë“  ì¼ì— ê³„íšì´ ìˆìœ¼ë©°, ëŒë°œ ìƒí™©ì„ ê°€ì¥ ì‹«ì–´í•©ë‹ˆë‹¤.", strength: "ì±…ì„ê°ê³¼ ì„±ì‹¤í•¨", weakness: "ìœµí†µì„± ë¶€ì¡±" },
                    { tag: "ğŸ›¡ï¸ ì›ì¹™ì£¼ì˜ì", desc: "í•œë²ˆ ë±‰ì€ ë§ì€ ë¬´ì¡°ê±´ ì§€í‚µë‹ˆë‹¤. ì¬ë¯¸ì—†ë‹¤ëŠ” ì†Œë¦¬ë¥¼ ë“£ê¸°ë„ í•˜ì§€ë§Œ, ê²°í˜¼ ìƒëŒ€ë¡œëŠ” 1ë“±ì…ë‹ˆë‹¤.", strength: "í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ì•ˆì •ê°", weakness: "ìƒˆë¡œìš´ ì‹œë„ ê±°ë¶€" }
                ],
                "ISFJ": [
                    { tag: "ğŸŒ» ë‹¤ì •í•œ ìˆ˜í˜¸ ì²œì‚¬", desc: "ë‚˜ë³´ë‹¤ ë‚¨ì„ ë¨¼ì € ì±™ê¹ë‹ˆë‹¤. ê²‰ìœ¼ë¡œëŠ” ì›ƒê³  ìˆì§€ë§Œ ì†ìœ¼ë¡œëŠ” 'ë‚´ê°€ ì°¸ì'ë©° ì‚­íˆê³  ìˆì„ í™•ë¥  99%.", strength: "ì„¬ì„¸í•œ ë°°ë ¤ì‹¬", weakness: "ê±°ì ˆì„ ëª» í•¨" },
                    { tag: "ğŸ¡ ê°€ì •ì ì¸ í‰í™”ì£¼ì˜ì", desc: "ì†Œì†Œí•œ í–‰ë³µì„ ì¤‘ìš”ì‹œí•©ë‹ˆë‹¤. ë‚´ ì‚¬ëŒì—ê²ŒëŠ” ê°„ë„ ì“¸ê°œë„ ë‹¤ ë¹¼ì£¼ì§€ë§Œ, í•œë²ˆ ëŒì•„ì„œë©´ ë¬´ì„­ìŠµë‹ˆë‹¤.", strength: "í—Œì‹ ì ì¸ íƒœë„", weakness: "ë³€í™”ì— ëŒ€í•œ ë‘ë ¤ì›€" }
                ],
                "ENFP": [
                    { tag: "ğŸ‰ ì¸ê°„ ê³¨ë“  ë¦¬íŠ¸ë¦¬ë²„", desc: "ì‚¬ëŒì„ ë„ˆë¬´ ì¢‹ì•„í•˜ê³  ê¸ˆë°© ì‚¬ë‘ì— ë¹ ì§‘ë‹ˆë‹¤. ê°ì • ê¸°ë³µì´ ë¡¤ëŸ¬ì½”ìŠ¤í„°ê¸‰ì´ì§€ë§Œ ë¯¸ì›Œí•  ìˆ˜ ì—†ëŠ” ë§¤ë ¥ì´ ìˆì£ .", strength: "ë¬´í•œ ê¸ì • ì—ë„ˆì§€", weakness: "ì‰½ê²Œ ìƒì²˜ë°›ìŒ" },
                    { tag: "âœ¨ ë°˜ì§ì´ëŠ” ì˜ê° ë¶€ì", desc: "í•˜ê³  ì‹¶ì€ ê²Œ 100ê°€ì§€ì…ë‹ˆë‹¤. ì—´ì •ì ìœ¼ë¡œ ì‹œì‘í•´ì„œ íì§€ë¶€ì§€ ëë‚˜ëŠ” ì¼ì´ ë§ì§€ë§Œ, ê·¸ ì—´ì •ì´ ì£¼ë³€ì„ ë°í™ë‹ˆë‹¤.", strength: "ì‚¬ëŒì„ ì´ë„ëŠ” í˜", weakness: "ì§‘ì¤‘ë ¥ ë¶€ì¡±" }
                ],
                // ... (ë‚˜ë¨¸ì§€ 12ê°œ ìœ í˜•ë„ ë¹„ìŠ·í•œ íŒ¨í„´ìœ¼ë¡œ ìë™ ìƒì„± ë¡œì§ ì ìš©) ...
            };
            
            // *ì½”ë“œ ê¸¸ì´ ìƒ ë‚˜ë¨¸ì§€ ìœ í˜•ì€ 'ìë™ ìƒì„± ë¡œì§'ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” ìœ„ì™€ ê°™ì´ 16ê°œë¥¼ ë‹¤ ì±„ì›Œë„£ìœ¼ë©´ ë©ë‹ˆë‹¤.
            // ì•„ë˜ëŠ” ë‚˜ë¨¸ì§€ ìœ í˜•ì— ëŒ€í•œ ê¸°ë³¸ í…œí”Œë¦¿ ë°ì´í„°ì…ë‹ˆë‹¤.
            const defaultTraits = {
                "INTJ": { tag: "â™Ÿï¸ í° ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ì „ëµê°€", desc: "ë‚¨ë“¤ì€ ì˜¤ëŠ˜ì„ ì‚´ ë•Œ 10ë…„ ë’¤ë¥¼ ê³„íší•©ë‹ˆë‹¤. ê°ì • í‘œí˜„ì€ ì„œíˆ´ì§€ë§Œ ë‚´ë©´ì€ ê¹ŠìŠµë‹ˆë‹¤.", strength: "í†µì°°ë ¥", weakness: "ì˜¤ë§Œí•¨" },
                "INFJ": { tag: "ğŸ”® ì†ì„ ì•Œ ìˆ˜ ì—†ëŠ” ì˜ˆì–¸ê°€", desc: "ê²‰ì€ ë¶€ë“œëŸ½ì§€ë§Œ ì†ì€ ë‹¨ë‹¨í•©ë‹ˆë‹¤. ì‚¬ëŒì˜ ë³¸ì§ˆì„ ê¿°ëš«ì–´ ë³´ëŠ” ëŠ¥ë ¥ì´ ìˆìŠµë‹ˆë‹¤.", strength: "í†µì°°ë ¥", weakness: "ì˜ˆë¯¼í•¨" },
                "INTP": { tag: "ğŸ§ª ê²Œìœ¼ë¥¸ ì²œì¬", desc: "ê´€ì‹¬ ìˆëŠ” ë¶„ì•¼ì—” ë¯¸ì¹œ ë“¯ì´ íŒŒê³ ë“¤ì§€ë§Œ, ë‚˜ë¨¸ì§„ ì‹ ê²½ ë•ë‹ˆë‹¤. ë…¼ë¦¬ì  ì˜¤ë¥˜ë¥¼ ëª» ì°¸ìŠµë‹ˆë‹¤.", strength: "ë¶„ì„ë ¥", weakness: "ì‚¬íšŒì„± ë¶€ì¡±" },
                "INFP": { tag: "ğŸ§š ê¿ˆê¾¸ëŠ” ëª½ìƒê°€", desc: "ìì‹ ë§Œì˜ ì„¸ê³„ê°€ í™•ê³ í•©ë‹ˆë‹¤. í˜„ì‹¤ ê°ê°ì€ ì¢€ ë–¨ì–´ì§€ì§€ë§Œ ì˜ˆìˆ ì  ê°ìˆ˜ì„±ì€ ìµœê³ ì…ë‹ˆë‹¤.", strength: "ìˆœìˆ˜í•¨", weakness: "ìœ ë¦¬ë©˜íƒˆ" },
                "ESTJ": { tag: "ğŸ‘‘ ì—„ê²©í•œ ê´€ë¦¬ì", desc: "í˜¸ë¶ˆí˜¸ê°€ í™•ì‹¤í•˜ê³  ì¼ ì²˜ë¦¬ê°€ ë¹ ë¦…ë‹ˆë‹¤. ë‹µë‹µí•œ ê¼´ì„ ëª» ë³´ë©° ë¦¬ë” ì—­í• ì„ ë„ë§¡ìŠµë‹ˆë‹¤.", strength: "ì¶”ì§„ë ¥", weakness: "ì§ì„¤ì  í™”ë²•" },
                "ESFJ": { tag: "ğŸ¤ í•µì¸ì‹¸ ì¹œì„ ë„ëª¨í˜•", desc: "ì‚¬ëŒ ì±™ê¸°ëŠ” ê²Œ ì·¨ë¯¸ì…ë‹ˆë‹¤. ë‚¨ì˜ ì‹œì„ ì„ ë§ì´ ì‹ ê²½ ì“°ì§€ë§Œ ê·¸ë§Œí¼ ì£¼ë³€ í‰íŒì´ ì¢‹ìŠµë‹ˆë‹¤.", strength: "ì¹œí™”ë ¥", weakness: "ë¹„íŒì— ì·¨ì•½" },
                "ENTJ": { tag: "ğŸ”¥ ë¶ˆë„ì € ë¦¬ë”", desc: "ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ì„  ìˆ˜ë‹¨ê³¼ ë°©ë²•ì„ ê°€ë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤. ì—°ì• ë„ ì¼ì²˜ëŸ¼ íš¨ìœ¨ì ìœ¼ë¡œ í•˜ë ¤ í•©ë‹ˆë‹¤.", strength: "ë¦¬ë”ì‹­", weakness: "ê³µê° ëŠ¥ë ¥" },
                "ENFJ": { tag: "ğŸ¤ ì •ì˜ë¡œìš´ ì–¸ë³€ê°€", desc: "ì‚¬ëŒë“¤ì„ ì´ëŒê³  ì„±ì¥ì‹œí‚¤ëŠ” ë° ê¸°ì¨ì„ ëŠë‚ë‹ˆë‹¤. ì˜¤ì§€ë–ì´ ë„“ë‹¤ëŠ” ì†Œë¦¬ë¥¼ ë“£ê¸°ë„ í•©ë‹ˆë‹¤.", strength: "ì„¤ë“ë ¥", weakness: "ì§€ë‚˜ì¹œ í¬ìƒ" },
                "ISTP": { tag: "ğŸ”§ ë§ŒëŠ¥ ì¬ì£¼ê¾¼", desc: "íš¨ìœ¨ì„±ì„ ì¤‘ì‹œí•˜ë©° ê·€ì°®ì€ ê±¸ ì‹«ì–´í•©ë‹ˆë‹¤. ë¬´ëšëší•´ ë³´ì´ì§€ë§Œ ì¸¤ë°ë ˆ ë§¤ë ¥ì´ ìˆìŠµë‹ˆë‹¤.", strength: "ì†ì¬ì£¼", weakness: "ë¬´ê´€ì‹¬" },
                "ISFP": { tag: "ğŸ¨ ì†Œì‹¬í•œ ê´€ì¢… ì˜ˆìˆ ê°€", desc: "ì¹¨ëŒ€ì— ëˆ„ì›ŒìˆëŠ” ê±¸ ì œì¼ ì¢‹ì•„í•˜ì§€ë§Œ ë§‰ìƒ ë‚˜ê°€ë©´ ì˜ ë†‰ë‹ˆë‹¤. ê±°ì ˆì„ ì˜ ëª» í•©ë‹ˆë‹¤.", strength: "ì˜ˆìˆ ì  ê°ê°", weakness: "ê²Œìœ¼ë¦„" },
                "ESTP": { tag: "âš¡ ìŠ¤ë¦´ì„ ì¦ê¸°ëŠ” ì‚¬ì—…ê°€", desc: "ê³ ë¯¼í•  ì‹œê°„ì— ì €ì§€ë¦…ë‹ˆë‹¤. ë‚´ê¸°ê°€ ê±¸ë¦¬ë©´ ëª©ìˆ¨ì„ ê²ë‹ˆë‹¤. ë’¤ëì´ ì—†ê³  ì¿¨í•©ë‹ˆë‹¤.", strength: "í–‰ë™ë ¥", weakness: "ì¶©ë™ì„±" },
                "ESFP": { tag: "ğŸ’ƒ ììœ ë¡œìš´ ì˜í˜¼ì˜ ì—°ì˜ˆì¸", desc: "ì¸ìƒì€ ì¦ê±°ì›Œì•¼ í•©ë‹ˆë‹¤. ë¶„ìœ„ê¸° ë©”ì´ì»¤ì§€ë§Œ ì§„ì§€í•œ ì´ì•¼ê¸°ëŠ” í”¼í•˜ê³  ì‹¶ì–´ í•©ë‹ˆë‹¤.", strength: "ìŠ¤íƒ€ì„±", weakness: "ì§„ì§€í•¨ ë¶€ì¡±" }
            };

            // 2. [íŠ¹ë³„ ì¼€ë¯¸] 256ê°€ì§€ ì¤‘ ì‚¬ìš©ìê°€ ì§ˆë¬¸í•œ ì¡°í•© ë“± 'íŠ¹ë³„í•œ ê´€ê³„' ì •ì˜
            const specialPairs = {
                // ENTP vs ISFJ (ì´ì›ê´€ê³„: ì„œë¡œ ë‹¤ë¦„ì—ì„œ ì˜¤ëŠ” ëŒë¦¼)
                "ENTP-ISFJ": {
                    title: "ğŸª ì—°ê³¼ ì–¼ë ˆ: í˜¼ëˆê³¼ ì§ˆì„œì˜ ë§Œë‚¨",
                    desc: "ENTPëŠ” ëŠì„ì—†ì´ ì‚¬ê³ ë¥¼ ì¹˜ê³ , ISFJëŠ” ì¡°ìš©íˆ ìˆ˜ìŠµí•©ë‹ˆë‹¤. ê²‰ë³´ê¸°ì—” ENTPê°€ ì´ê¸°ëŠ” ê²ƒ ê°™ì§€ë§Œ, ê²°ì •ì ì¸ ìˆœê°„ì—” ISFJì˜ ê³ ì§‘ì„ ëª» êº¾ìŠµë‹ˆë‹¤. ENTPì—ê²Œ í•„ìš”í•œ 'ì•ˆì •ê°'ì„ ISFJê°€ ì™„ë²½í•˜ê²Œ ì±„ì›Œì¤ë‹ˆë‹¤.",
                    synergy: "ENTPì˜ ì•„ì´ë””ì–´ë¥¼ ISFJê°€ í˜„ì‹¤ë¡œ ë§Œë“¤ì–´ì¤Œ",
                    conflict: "ë¬´ê³„íšì ì¸ ENTP vs ê³„íš í•„ìˆ˜ì¸ ISFJ",
                    score: 98
                },
                // ENTP vs ISTJ (ê°ë…ê´€ê³„ ìœ ì‚¬: ì°¨ê°€ìš´ íš¨ìœ¨)
                "ENTP-ISTJ": {
                    title: "âš”ï¸ ì°½ê³¼ ë°©íŒ¨: í˜ì‹ ê³¼ ì „í†µì˜ ì¶©ëŒ",
                    desc: "ìƒˆë¡œìš´ ê±¸ ì‹œë„í•˜ë ¤ëŠ” ENTPì™€ ê¸°ì¡´ ë°©ì‹ì„ ê³ ìˆ˜í•˜ë ¤ëŠ” ISTJì˜ ë§Œë‚¨ì…ë‹ˆë‹¤. ISFJì™€ì˜ ë§Œë‚¨ì´ 'ë”°ëœ»í•œ ë³´ì™„'ì´ë¼ë©´, ISTJì™€ì˜ ë§Œë‚¨ì€ 'ë…¼ë¦¬ì  ì „ìŸ'ì— ê°€ê¹ìŠµë‹ˆë‹¤. ì„œë¡œì˜ ëŠ¥ë ¥ì„ ì¸ì •í•˜ë©´ ìµœê³ ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ íŒŒíŠ¸ë„ˆê°€ ë©ë‹ˆë‹¤.",
                    synergy: "ê°ì •ì„ ë°°ì œí•œ íš¨ìœ¨ì ì¸ ë¬¸ì œ í•´ê²°",
                    conflict: "'ì™œ êµ³ì´ ë°”ê¿”?'(ISTJ) vs 'ì™œ êµ³ì´ ê·¸ëŒ€ë¡œ í•´?'(ENTP)",
                    score: 65
                },
                // ë™ì¡± (ENTP-ENTP)
                "ENTP-ENTP": {
                    title: "ğŸ¤¡ ê±°ìš¸ ì†ì˜ ê´‘ëŒ€ë“¤",
                    desc: "ë§Œë‚˜ë©´ ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¥´ê³  ë– ë“­ë‹ˆë‹¤. ì„¸ìƒ ëª¨ë“  ì£¼ì œë¡œ í† ë¡ í•˜ì§€ë§Œ, ê²°ë¡ ì€ ì•ˆ ë‚©ë‹ˆë‹¤. ë‘˜ ë‹¤ ë²Œë¦¬ê¸°ë§Œ í•˜ê³  ë§ˆë¬´ë¦¬ë¥¼ ì•ˆ í•´ì„œ ë°ì´íŠ¸ ê³„íšë§Œ 100ê°œ ì„¸ìš°ê³  ì§‘ì—ì„œ ì˜ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.",
                    synergy: "ì§€ë£¨í•  í‹ˆì´ ì—†ëŠ” ìµœê³ ì˜ í‹°í‚¤íƒ€ì¹´",
                    conflict: "ì„œë¡œì˜ ë‹¨ì ì´ ë„ˆë¬´ ì˜ ë³´ì—¬ì„œ ì§œì¦ ë‚¨",
                    score: 80
                }
                // *í•„ìš”í•˜ë©´ ì—¬ê¸°ì— ë” ë§ì€ í•˜ë“œì½”ë”© ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.
            };

            // 3. [ìë™ ìƒì„± ë¡œì§] í•˜ë“œì½”ë”© ë˜ì§€ ì•Šì€ ë‚˜ë¨¸ì§€ ì¡°í•©ì„ ìœ„í•œ ì•Œê³ ë¦¬ì¦˜
            function generateDynamicChemistry(typeA, typeB) {
                let score = 70;
                let title = "ì•Œ ìˆ˜ ì—†ëŠ” ì´ëŒë¦¼";
                let desc = "";
                let synergy = "";
                let conflict = "";

                // 4ê¸€ì ë¹„êµ
                let diffCount = 0;
                for(let i=0; i<4; i++) if(typeA[i] !== typeB[i]) diffCount++;

                if (diffCount === 0) { // ê°™ì€ ìœ í˜•
                    title = "ê±°ìš¸ì„ ë³´ëŠ” ì‚¬ì´";
                    desc = "ë‚˜ë‘ ë˜‘ê°™ì€ ì‚¬ëŒì„ ë§Œë‚¬ë„¤ìš”. ë§ì´ ì˜ í†µí•˜ê³  í¸ì•ˆí•˜ì§€ë§Œ, ë‚´ê°€ ì‹«ì–´í•˜ëŠ” ë‚˜ì˜ ë‹¨ì ì´ ìƒëŒ€ì—ê²Œì„œ ë³´ì¼ ë•Œ í™”ê°€ ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
                    synergy = "ì™„ë²½í•œ ì´í•´ì™€ ê³µê°";
                    conflict = "ë˜‘ê°™ì€ ë¬¸ì œë¡œ ë˜‘ê°™ì´ ì£¼ì €í•¨";
                    score = 80;
                } else if (diffCount === 4) { // ì •ë°˜ëŒ€ (ì˜ˆ: ENTP vs ISFJ) - ì‚¬ì‹¤ ì´ê±´ ë³´í†µ 90ì  ì´ìƒ
                    title = "ì„œë¡œ ë‹¤ë¥¸ í–‰ì„±ì—ì„œ ì˜¨ ì»¤í”Œ";
                    desc = "ë¨¸ë¦¬ë¶€í„° ë°œëê¹Œì§€ ë‹¤ë¦…ë‹ˆë‹¤. ì²˜ìŒì—” ë„ì €íˆ ì´í•´ê°€ ì•ˆ ê°€ì§€ë§Œ, ë‚´ê°€ ê°€ì§€ì§€ ëª»í•œ ëŠ¥ë ¥ì„ ê°€ì§„ ìƒëŒ€ì—ê²Œ ê°•ë ¬í•˜ê²Œ ëŒë¦½ë‹ˆë‹¤.";
                    synergy = "ì„œë¡œì˜ ì•½ì ì„ ì™„ë²½íˆ ë³´ì™„";
                    conflict = "ê°€ì¹˜ê´€ê³¼ ìƒí™œ íŒ¨í„´ì˜ ì¶©ëŒ";
                    score = 95;
                } else {
                    // S/N ì°¨ì´ (ê°€ì¥ í° ëŒ€í™” ì¥ë²½)
                    if (typeA[1] !== typeB[1]) {
                        title = "í˜„ì‹¤ê³¼ ì´ìƒì˜ ì¤„ë‹¤ë¦¬ê¸°";
                        desc = "í•œ ëª…ì€ ìˆ²ì„ ë³´ê³ (N), í•œ ëª…ì€ ë‚˜ë¬´ë¥¼ ë´…ë‹ˆë‹¤(S). ëŒ€í™”ì˜ í•€íŠ¸ê°€ ìì£¼ ì–´ê¸‹ë‚  ìˆ˜ ìˆì§€ë§Œ ì„œë¡œì—ê²Œ ìƒˆë¡œìš´ ì‹œê°ì„ ì„ ë¬¼í•©ë‹ˆë‹¤.";
                        synergy = "ì‹œì•¼ì˜ í™•ì¥";
                        conflict = "ëŒ€í™” ì£¼ì œì˜ ë¶ˆì¼ì¹˜";
                        score -= 10;
                    }
                    // T/F ì°¨ì´ (ê°€ì¥ í° ì‹¸ì›€ ì›ì¸)
                    if (typeA[2] !== typeB[2]) {
                        desc += " ì‹¸ìš¸ ë•Œ í•œ ëª…ì€ ë…¼ë¦¬ë¥¼ ë”°ì§€ê³ , í•œ ëª…ì€ ì„œìš´í•¨ì„ í† ë¡œí•©ë‹ˆë‹¤. í†µì—­ê°€ê°€ í•„ìš”í•©ë‹ˆë‹¤.";
                        conflict = "ê°ì • ìƒí•¨ vs ë‹µë‹µí•¨";
                    }
                }

                return { title, desc, synergy, conflict, score };
            }

            // Datalist ì±„ìš°ê¸°
            const dataList = document.getElementById('mbti-list');
            validMbtiList.forEach(t => {
                let opt = document.createElement('option');
                opt.value = t;
                dataList.appendChild(opt);
            });

            // --- ì†ë§ˆìŒ ìƒì„±ê¸° (ìœ í˜•ë³„ ë§íˆ¬ ë°˜ì˜) ---
            function getThoughts(me, you) {
                // ê°„ë‹¨í•œ ê·œì¹™ ê¸°ë°˜ í…ìŠ¤íŠ¸ ìƒì„±
                const meTrait = mbtiTraits[me] ? mbtiTraits[me][0].tag : defaultTraits[me].tag;
                
                if (me === you) return `"ë„ˆë¥¼ ë³´ë©´ ë‚˜ë¥¼ ë³´ëŠ” ê²ƒ ê°™ì•„. ê·¸ë˜ì„œ ì¢‹ê¸°ë„ í•˜ê³ , ê°€ë”ì€ ì¢€ ì§ í•˜ê¸°ë„ í•´."`;
                
                // Nì´ Së¥¼ ë³¼ ë•Œ
                if (me[1] === 'N' && you[1] === 'S') return `"ê°€ë”ì€ ë„ˆë¬´ í˜„ì‹¤ì ì¸ ì–˜ê¸°ë§Œ í•´ì„œ ë‹µë‹µí•´. ê·¼ë° ë‚´ê°€ ë†“ì¹˜ëŠ” ê±¸ ì±™ê²¨ì¤„ ë• ì§„ì§œ ê³ ë§ˆì›Œ."`;
                // Sê°€ Nì„ ë³¼ ë•Œ
                if (me[1] === 'S' && you[1] === 'N') return `"ëœ¬êµ¬ë¦„ ì¡ëŠ” ì†Œë¦¬ ì¢€ ê·¸ë§Œí–ˆìœ¼ë©´ ì¢‹ê² ì–´. ê·¸ë˜ë„ ë„ˆë‘ ìˆìœ¼ë©´ ì„¸ìƒì´ ì¢€ ì‹ ê¸°í•´ ë³´ì´ê¸´ í•´."`;
                // Tê°€ Fë¥¼ ë³¼ ë•Œ
                if (me[2] === 'T' && you[2] === 'F') return `"ë„ˆë¬´ ê°ì •ì ì´ì•¼. í•´ê²°ì±…ì„ ì£¼ë©´ ì„œìš´í•´í•˜ë‹ˆê¹Œ ë§ì„ ëª» í•˜ê² ì–´. ê·¼ë° ì°¸ ë”°ëœ»í•œ ì‚¬ëŒì´ê¸´ í•´."`;
                // Fê°€ Të¥¼ ë³¼ ë•Œ
                if (me[2] === 'F' && you[2] === 'T') return `"ë§ì„ ë„ˆë¬´ ì°¨ê°‘ê²Œ í•´. ë‚´ ë§˜ë„ ëª°ë¼ì£¼ê³ ... ê·¸ë˜ë„ ë¯¿ìŒì§ìŠ¤ëŸ¬ìš´ ê±´ ì‚¬ì‹¤ì´ì•¼."`;
                
                return `"ë„ˆë‘ì€ ì •ë§ ë‹¬ë¼ì„œ ì‹ ê¸°í•´. ë„ëŒ€ì²´ ë¬´ìŠ¨ ìƒê°ìœ¼ë¡œ ì‚¬ëŠ” ê±¸ê¹Œ? ê·¸ë˜ì„œ ë” ì•Œê³  ì‹¶ì–´."`;
            }

            // --- ìœ íš¨ì„± ê²€ì‚¬ ë° ì‹¤í–‰ ---
            function validateAndAnalyze() {
                const inputA = document.getElementById('mbti-a');
                const inputB = document.getElementById('mbti-b');
                const valA = inputA.value.toUpperCase().trim();
                const valB = inputB.value.toUpperCase().trim();

                let isValid = true;
                let errorMsg = "";

                if (!validMbtiList.includes(valA)) {
                    inputA.classList.add('shake');
                    setTimeout(() => inputA.classList.remove('shake'), 400);
                    isValid = false;
                    errorMsg = "ë‚˜ì˜ MBTIë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”!";
                } else if (!validMbtiList.includes(valB)) {
                    inputB.classList.add('shake');
                    setTimeout(() => inputB.classList.remove('shake'), 400);
                    isValid = false;
                    errorMsg = "ìƒëŒ€ë°©ì˜ MBTIë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”!";
                }

                if (!isValid) { alert(errorMsg); return; }

                analyzeRelationship(valA, valB);
            }

            function analyzeRelationship(mbtiA, mbtiB) {
                // 1. ê°œì¸ íŠ¹ì„± ê°€ì ¸ì˜¤ê¸° (ëœë¤ ì„ íƒ)
                const getTrait = (type) => {
                    if (mbtiTraits[type]) {
                        // ëœë¤ìœ¼ë¡œ 2ê°œ ì¤‘ í•˜ë‚˜ ì„ íƒ
                        return mbtiTraits[type][Math.floor(Math.random() * mbtiTraits[type].length)];
                    }
                    return defaultTraits[type]; // ë°ì´í„° ì•ˆ ë„£ì€ ìœ í˜•ì€ ê¸°ë³¸ê°’
                };

                // ë§Œì•½ ê°™ì€ ìœ í˜•ì´ë©´ ì„œë¡œ ë‹¤ë¥¸ ì„¤ëª…ì´ ë‚˜ì˜¤ê²Œ ì¡°ì •
                let traitA = getTrait(mbtiA);
                let traitB = getTrait(mbtiB);
                
                if (mbtiA === mbtiB && mbtiTraits[mbtiA]) {
                    traitA = mbtiTraits[mbtiA][0];
                    traitB = mbtiTraits[mbtiA][1];
                }

                // 2. ì¼€ë¯¸ ë°ì´í„° ì°¾ê¸° (í•˜ë“œì½”ë”© -> ì—†ìœ¼ë©´ ìë™ìƒì„±)
                const pairKey = [mbtiA, mbtiB].sort().join("-");
                let chemistry = specialPairs[pairKey];
                
                if (!chemistry) {
                    chemistry = generateDynamicChemistry(mbtiA, mbtiB);
                }

                // 3. ì†ë§ˆìŒ ìƒì„±
                const viewAtoB = getThoughts(mbtiA, mbtiB);
                const viewBtoA = getThoughts(mbtiB, mbtiA);

                // 4. HTML ë Œë”ë§
                const resultHTML = `
                    <div class="max-w-4xl mx-auto space-y-12">
                        <div class="chemistry-card rounded-3xl p-8 md:p-10 text-center shadow-xl relative overflow-hidden">
                             <div class="absolute top-0 left-0 w-full h-3 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"></div>
                             <div class="inline-block bg-slate-100 text-slate-500 font-bold px-4 py-1 rounded-full text-xs mb-6 tracking-widest">RELATIONSHIP TYPE</div>
                            <h2 class="text-3xl md:text-4xl font-extrabold text-slate-900 mb-6 leading-tight">${chemistry.title}</h2>
                            <p class="text-slate-600 leading-relaxed break-keep text-lg md:text-xl mb-8 px-4">${chemistry.desc}</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left bg-white rounded-2xl p-6 border border-slate-100 shadow-inner">
                                <div class="p-2"><p class="font-bold text-blue-600 mb-1">ğŸ”¥ ì‹œë„ˆì§€ í¬ì¸íŠ¸</p><p class="text-sm text-slate-600">${chemistry.synergy}</p></div>
                                <div class="p-2 border-t md:border-t-0 md:border-l border-slate-100"><p class="font-bold text-red-500 mb-1">ğŸ’£ ê°ˆë“± ì£¼ì˜</p><p class="text-sm text-slate-600">${chemistry.conflict}</p></div>
                            </div>
                            <div class="mt-8">
                                <span class="text-slate-400 text-sm font-bold mr-2">ê¶í•© ì ìˆ˜</span>
                                <div class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-pink-600 inline-block align-middle">${chemistry.score}</div>
                                <span class="text-2xl text-slate-300 font-light">/ 100</span>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10">
                            <div class="flex flex-col h-full">
                                <div class="bg-white p-8 rounded-[2rem] border border-blue-100 shadow-lg relative flex-1">
                                    <div class="flex items-center gap-3 mb-4">
                                        <span class="bg-blue-100 text-blue-600 w-10 h-10 flex items-center justify-center rounded-full text-xl"><i class="fas fa-user"></i></span>
                                        <div><h3 class="font-black text-2xl text-slate-800">${mbtiA}</h3><p class="text-blue-500 font-bold text-xs">MY TYPE</p></div>
                                    </div>
                                    <p class="text-blue-600 font-bold text-lg mb-2">${traitA.tag}</p>
                                    <p class="text-slate-600 text-sm leading-relaxed mb-6 border-b border-slate-100 pb-4">${traitA.desc}</p>
                                    <div class="space-y-3 mb-6"><div class="flex gap-2 text-sm"><span class="text-blue-500 font-bold shrink-0">ì¥ì </span> <span class="text-slate-600">${traitA.strength}</span></div><div class="flex gap-2 text-sm"><span class="text-red-400 font-bold shrink-0">ë‹¨ì </span> <span class="text-slate-600">${traitA.weakness}</span></div></div>
                                </div>
                                <div class="relative mt-6 px-4">
                                    <div class="absolute left-8 -top-3 text-blue-300 text-3xl z-10"><i class="fas fa-quote-left"></i></div>
                                    <div class="bg-blue-600 text-white p-6 rounded-2xl rounded-tl-none shadow-lg relative bubble-left">
                                        <p class="text-[10px] font-bold opacity-70 mb-2 uppercase tracking-widest">${mbtiB}ë¥¼ ë³´ëŠ” ì†ë§ˆìŒ</p>
                                        <p class="font-medium text-lg leading-relaxed italic opacity-95">${viewAtoB}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col h-full md:flex-col-reverse">
                                <div class="bg-white p-8 rounded-[2rem] border border-pink-100 shadow-lg relative flex-1">
                                    <div class="flex items-center justify-end gap-3 mb-4">
                                        <div class="text-right"><h3 class="font-black text-2xl text-slate-800">${mbtiB}</h3><p class="text-pink-500 font-bold text-xs">PARTNER TYPE</p></div>
                                        <span class="bg-pink-100 text-pink-600 w-10 h-10 flex items-center justify-center rounded-full text-xl"><i class="fas fa-heart"></i></span>
                                    </div>
                                    <p class="text-pink-600 font-bold text-lg mb-2 text-right">${traitB.tag}</p>
                                    <p class="text-slate-600 text-sm leading-relaxed mb-6 border-b border-slate-100 pb-4 text-right">${traitB.desc}</p>
                                    <div class="space-y-3 mb-6 text-right"><div class="flex gap-2 justify-end text-sm"><span class="text-slate-600">${traitB.strength}</span> <span class="text-pink-500 font-bold shrink-0">ì¥ì </span></div><div class="flex gap-2 justify-end text-sm"><span class="text-slate-600">${traitB.weakness}</span> <span class="text-red-400 font-bold shrink-0">ë‹¨ì </span></div></div>
                                </div>
                                <div class="relative mb-6 px-4">
                                    <div class="absolute right-8 -top-3 text-pink-300 text-3xl z-10"><i class="fas fa-quote-right"></i></div>
                                    <div class="bg-pink-500 text-white p-6 rounded-2xl rounded-tr-none shadow-lg relative bubble-right text-right">
                                        <p class="text-[10px] font-bold opacity-70 mb-2 uppercase tracking-widest">${mbtiA}ë¥¼ ë³´ëŠ” ì†ë§ˆìŒ</p>
                                        <p class="font-medium text-lg leading-relaxed italic opacity-95">${viewBtoA}</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-12">
                            <div id="lock-screen" class="bg-slate-900 rounded-3xl p-10 text-center shadow-2xl relative overflow-hidden group">
                                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
                                <div class="relative z-10">
                                    <i class="fas fa-lock text-5xl text-slate-600 mb-4 group-hover:text-yellow-400 transition-colors duration-500"></i>
                                    <h3 class="font-bold text-white text-2xl mb-2">ğŸ”’ ê´€ê³„ ìœ ì§€ <span class="text-yellow-400">ì‹œí¬ë¦¿ ê°€ì´ë“œ</span></h3>
                                    <p class="text-slate-400 text-sm mb-8">ëŒ€í™”ë²•, ë°ì´íŠ¸ ì¶”ì²œ, ì ˆëŒ€ ê¸ˆê¸°ì‚¬í•­ í™•ì¸í•˜ê¸°</p>
                                    <button id="coupang-trigger-btn" class="w-full md:w-auto px-10 py-4 text-white font-bold rounded-full shadow-lg transform transition hover:scale-105 coupang-btn-gradient flex items-center justify-center gap-3 mx-auto text-lg">
                                        <span>ì¿ íŒ¡ ì‡¼í•‘ 10ì´ˆë§Œ í•˜ê³  í™•ì¸í•˜ê¸°</span> <i class="fas fa-unlock-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div id="unlocked-content" class="hidden bg-white border-2 border-slate-900 rounded-3xl p-8 shadow-2xl relative">
                                <div class="absolute -top-5 left-1/2 -translate-x-1/2 bg-slate-900 text-yellow-400 px-6 py-2 rounded-full font-bold text-sm shadow-lg"><i class="fas fa-crown mr-2"></i>PREMIUM GUIDE</div>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                                    <div class="bg-blue-50 p-6 rounded-2xl text-center"><h4 class="font-bold text-slate-800 mb-2">ğŸ’¬ ëŒ€í™”ì˜ ê¸°ìˆ </h4><p class="text-sm text-slate-600 break-keep">ìƒëŒ€ì˜ ì„±í–¥ì„ ì¡´ì¤‘í•˜ë©°, ë¹„ë‚œë³´ë‹¤ëŠ” 'ë‚˜ì˜ ê°ì •'ì„ ë¨¼ì € ì´ì•¼ê¸°í•˜ì„¸ìš”. ë‹¤ë¦„ì„ ì¸ì •í•˜ëŠ” ê²ƒì´ ëŒ€í™”ì˜ ì‹œì‘ì…ë‹ˆë‹¤.</p></div>
                                    <div class="bg-pink-50 p-6 rounded-2xl text-center"><h4 class="font-bold text-slate-800 mb-2">ğŸŸï¸ ì¶”ì²œ ë°ì´íŠ¸</h4><p class="text-sm text-slate-600 break-keep">ì„œë¡œê°€ ì¢‹ì•„í•˜ëŠ” í™œë™ì„ ë²ˆê°ˆì•„ê°€ë©° í•˜ì„¸ìš”. ì´ë²ˆ ì£¼ëŠ” ${mbtiA}ì˜ ì·¨í–¥, ë‹¤ìŒ ì£¼ëŠ” ${mbtiB}ì˜ ì·¨í–¥ëŒ€ë¡œ!</p></div>
                                    <div class="bg-yellow-50 p-6 rounded-2xl text-center"><h4 class="font-bold text-slate-800 mb-2">âš ï¸ ì ˆëŒ€ ê¸ˆê¸°ì‚¬í•­</h4><p class="text-sm text-slate-600 break-keep font-bold">"ë„ˆëŠ” ì™œ ê·¸ë˜?"ë¼ëŠ” ë§ë¡œ ìƒëŒ€ë¥¼ ë°”ê¾¸ë ¤ í•˜ì§€ ë§ˆì„¸ìš”. ìˆëŠ” ê·¸ëŒ€ë¡œë¥¼ ì‚¬ë‘í•´ì£¼ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.</p></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                document.getElementById('result-content').innerHTML = resultHTML;
                document.getElementById('input-page').classList.add('hidden');
                document.getElementById('result-page').classList.remove('hidden');
                window.scrollTo(0, 0);

                document.getElementById('coupang-trigger-btn').addEventListener('click', () => {
                    window.open('https://link.coupang.com/a/dcbQl7', '_blank');
                    document.getElementById('lock-screen').classList.add('hidden');
                    const unlocked = document.getElementById('unlocked-content');
                    unlocked.classList.remove('hidden');
                    unlocked.classList.add('fade-in');
                });
            }

            function resetPage() {
                document.getElementById('input-page').classList.remove('hidden');
                document.getElementById('result-page').classList.add('hidden');
                document.getElementById('mbti-a').value = '';
                document.getElementById('mbti-b').value = '';
            }

            document.getElementById('analyze-btn').addEventListener('click', validateAndAnalyze);
            document.getElementById('back-btn').addEventListener('click', resetPage);
        });
    </script>
</body>
</html>
