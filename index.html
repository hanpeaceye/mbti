<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°ì¸ê³¼ ë‚˜ì˜ MBTI ê¶í•© & ì•ˆ ì‹¸ìš°ëŠ” ê¿€íŒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-33VJ9T8RW5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-33VJ9T8RW5');
    </script>

    <meta property="og:type" content="website">
    <meta property="og:title" content="ì—°ì¸ê³¼ ë‚˜ì˜ MBTI ê¶í•© & ì•ˆ ì‹¸ìš°ëŠ” ê¿€íŒ ğŸ’–">
    <meta property="og:description" content="ìš°ë¦¬ ì»¤í”Œì€ ì™œ ì‹¸ìš¸ê¹Œ? ì„œë¡œì˜ ì†ë§ˆìŒë¶€í„° 200% ë¦¬ì–¼ ì—°ì•  ì²˜ë°©ì „ê¹Œì§€! 16ê°€ì§€ ìœ í˜• ì™„ë²½ ë¶„ì„ ë³´ê³ ì„œ">
    <meta property="og:image" content="https://cdn-icons-png.flaticon.com/512/2074/2074844.png">
    <meta property="og:url" content="https://aimbti.xyz">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;800&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #fff0f5; }
        
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .chemistry-card { background: linear-gradient(145deg, #ffffff, #fff5f7); border: 1px solid #ffe4e6; }
        .vs-badge { background: linear-gradient(45deg, #ff6b6b, #ff8e53); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .bubble-left::before { content: ''; position: absolute; left: -12px; top: 24px; border-width: 12px 12px 12px 0; border-color: transparent white transparent transparent; filter: drop-shadow(-2px 0 2px rgba(0,0,0,0.05)); }
        .bubble-right::before { content: ''; position: absolute; right: -12px; top: 24px; border-width: 12px 0 12px 12px; border-color: transparent white transparent transparent; filter: drop-shadow(2px 0 2px rgba(0,0,0,0.05)); }
        
        .coupang-btn-gradient { background: linear-gradient(to right, #e11f1f, #ff9000); }
        
        .shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; border-color: #ef4444 !important; }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }

        .bounce-custom { animation: bounce-custom 2s infinite; }
        @keyframes bounce-custom {
            0%, 100% { transform: translateY(-5%); animation-timing-function: cubic-bezier(0.8,0,1,1); }
            50% { transform: translateY(0); animation-timing-function: cubic-bezier(0,0,0.2,1); }
        }

        /* ì‹œí¬ë¦¿ ê°€ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes float-lock {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); text-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        }
        .animate-float-lock { animation: float-lock 3s ease-in-out infinite; display: inline-block; }

        @keyframes pulse-glow-btn {
            0% { box-shadow: 0 4px 15px rgba(225, 31, 31, 0.4); transform: scale(1); }
            50% { box-shadow: 0 0 30px rgba(255, 80, 80, 0.8), 0 0 15px rgba(255, 200, 0, 0.6); transform: scale(1.03); }
            100% { box-shadow: 0 4px 15px rgba(225, 31, 31, 0.4); transform: scale(1); }
        }
        .animate-pulse-glow { animation: pulse-glow-btn 1.5s infinite ease-in-out; }
    </style>
</head>
<body class="text-slate-800 min-h-screen">

    <div class="w-full max-w-5xl mx-auto px-4 py-10">

        <div id="input-page" class="flex flex-col justify-center min-h-[85vh] fade-in">
            <div class="text-center mb-12">
                <span class="inline-block bg-white border border-pink-200 text-pink-500 text-xs font-bold px-4 py-1.5 rounded-full mb-4 shadow-sm tracking-wide">Couple Compatibility Test</span>
                <h1 class="text-3xl md:text-5xl font-extrabold text-slate-900 mb-4 leading-tight">
                    ì—°ì¸ê³¼ ë‚˜ì˜ MBTI ê¶í•©,<br class="md:hidden">ê·¸ë¦¬ê³  <span class="text-pink-500">ì•ˆ ì‹¸ìš°ëŠ” ê¿€íŒ!</span> ğŸ’–
                </h1>
                <p class="text-slate-500 text-base md:text-lg">ì„œë¡œ ë‹¤ë¥¸ ìš°ë¦¬, ì–´ë–»ê²Œ ë§ì¶°ê°€ì•¼ í• ê¹Œìš”? <br class="md:hidden">200% ë¦¬ì–¼ ì—°ì•  ì²˜ë°©ì „</p>
            </div>

            <div class="bg-white rounded-[2rem] p-8 md:p-12 shadow-2xl shadow-pink-100 max-w-3xl mx-auto w-full border border-white">
                <div class="flex flex-col gap-10">
                    <div class="flex flex-col md:flex-row items-center justify-between gap-8">
                        <div class="w-full group">
                            <label class="block text-sm font-bold text-slate-500 mb-3 ml-2 group-hover:text-blue-500 transition-colors">ë‚˜ì˜ MBTI</label>
                            <div class="relative">
                                <input id="mbti-a" list="mbti-list" oninput="this.value = this.value.toUpperCase()" onkeyup="updateFavicon(this.value)" class="w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-5 text-center text-3xl font-black uppercase text-slate-800 focus:border-blue-400 focus:ring-4 focus:ring-blue-100 outline-none transition placeholder-slate-300 tracking-widest" placeholder="ENTP" maxlength="4">
                                <div class="absolute left-5 top-1/2 -translate-y-1/2 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-500"><i class="fas fa-user"></i></div>
                            </div>
                        </div>
                        <span class="text-5xl font-black italic vs-badge transform md:rotate-12">VS</span>
                        <div class="w-full group">
                            <label class="block text-sm font-bold text-slate-500 mb-3 ml-2 group-hover:text-pink-500 transition-colors">ì—°ì¸ì˜ MBTI</label>
                            <div class="relative">
                                <input id="mbti-b" list="mbti-list" oninput="this.value = this.value.toUpperCase()" class="w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-5 text-center text-3xl font-black uppercase text-slate-800 focus:border-pink-400 focus:ring-4 focus:ring-pink-100 outline-none transition placeholder-slate-300 tracking-widest" placeholder="ISFJ" maxlength="4">
                                <div class="absolute left-5 top-1/2 -translate-y-1/2 w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center text-pink-500"><i class="fas fa-heart"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <button id="analyze-btn" class="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-6 rounded-2xl shadow-xl hover:shadow-2xl text-lg md:text-xl active:scale-[0.98] transition-all duration-300 flex items-center justify-center gap-3 group">
                        <span>ê²°ê³¼ ë³´ê¸°</span> <i class="fas fa-rocket group-hover:translate-x-1 transition-transform"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="result-page" class="hidden fade-in pb-20">
            <div class="max-w-4xl mx-auto mb-8 flex items-center justify-between">
                <button id="back-btn" class="text-slate-400 hover:text-slate-800 font-bold flex items-center gap-2 transition-colors px-4 py-2 rounded-lg hover:bg-slate-100">
                    <i class="fas fa-arrow-left"></i> ì²˜ìŒìœ¼ë¡œ
                </button>
                <span class="text-xs font-bold text-pink-400 bg-pink-50 px-3 py-1 rounded-full">LOVE REPORT</span>
            </div>
            <div id="result-content"></div>
        </div>

    </div>

    <datalist id="mbti-list"></datalist>
    <link id="dynamic-favicon" rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§¡</text></svg>">

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const validMbtiList = ["ISTJ", "ISFJ", "INFJ", "INTJ", "ISTP", "ISFP", "INFP", "INTP", "ESTP", "ESFP", "ENFP", "ENTP", "ESTJ", "ESFJ", "ENFJ", "ENTJ"];
            const mbtiTraits = {
                "ENTP": [{ tag: "ğŸ¤ ì•„ì´ë””ì–´ ë±…í¬", desc: "ì¥ë‚œê¸° ë„˜ì¹˜ì§€ë§Œ ë¨¸ë¦¿ì†ì€ ì‚¬ì—… êµ¬ìƒìœ¼ë¡œ ê°€ë“ ì°¨ ìˆì£ .", strength: "ì°½ì˜ë ¥", weakness: "ë’·ì‹¬ ë¶€ì¡±" }, { tag: "ğŸ¤¡ ì²œì¬ ì•…ë™", desc: "ë‚¨ë“¤ì´ 'ì˜ˆ' í•  ë•Œ 'ì•„ë‹ˆì˜¤'ë¼ê³  ë§í•˜ëŠ” ì§œë¦¿í•¨ì„ ì¦ê²¨ìš”.", strength: "í˜ì‹ ", weakness: "ëˆˆì¹˜ ë¶€ì¡±" }],
                "ISTJ": [{ tag: "ğŸ“‰ ì¸ê°„ ì—‘ì…€", desc: "ì•½ì† ì‹œê°„ 1ë¶„ë„ ì–´ê¸°ì§€ ì•Šì•„ìš”. ê³„íšì ì¸ ë“ ë“ í•œ ì• ì¸!", strength: "ì±…ì„ê°", weakness: "ìœµí†µì„±" }, { tag: "ğŸ›¡ï¸ ì›ì¹™ì£¼ì˜ì", desc: "ë¹ˆë§ì€ ëª» í•˜ì§€ë§Œ, í•œë²ˆ ë±‰ì€ ë§ì€ ë¬´ì¡°ê±´ ì§€ì¼œìš”.", strength: "ì•ˆì •ê°", weakness: "ë³€í™” ê±°ë¶€" }],
                "ISFJ": [{ tag: "ğŸŒ» ìˆ˜í˜¸ ì²œì‚¬", desc: "ë‚˜ë³´ë‹¤ ì—°ì¸ì„ ë¨¼ì € ì±™ê²¨ìš”. ì†ìœ¼ë¡œ ì°¸ëŠ” ê²Œ ë§ì•„ìš”.", strength: "ë°°ë ¤ì‹¬", weakness: "ê±°ì ˆ ëª» í•¨" }, { tag: "ğŸ¡ ê°€ì •ì ", desc: "ì†Œì†Œí•œ í–‰ë³µì„ ì¤‘ìš”ì‹œí•´ìš”. ë‚´ ì‚¬ëŒì—ê² ë‹¤ í¼ì¤ë‹ˆë‹¤.", strength: "í—Œì‹ ", weakness: "ë³€í™” ë‘ë ¤ì›€" }],
                "ENFP": [{ tag: "ğŸ‰ ëŒ•ëŒ•ì´", desc: "ì‚¬ëŒì„ ë„ˆë¬´ ì¢‹ì•„í•˜ê³  ê¸ˆë°© ì‚¬ë‘ì— ë¹ ì ¸ìš”.", strength: "í•´í”¼ ë°”ì´ëŸ¬ìŠ¤", weakness: "ìƒì²˜ë°›ìŒ" }, { tag: "âœ¨ ì˜ê° ë¶€ì", desc: "í•˜ê³  ì‹¶ì€ ê²Œ 100ê°€ì§€! ë¶ˆë„ì € ê°™ì€ ë§¤ë ¥.", strength: "ì—´ì •", weakness: "ë³€ë•" }],
                "ESFJ": [{ tag: "ğŸ° í•µì¸ì‹¸", desc: "ê¸°ë…ì¼, ì´ë²¤íŠ¸ í•˜ë‚˜ë„ ë†“ì¹˜ì§€ ì•Šê³  ì±™ê²¨ì¤˜ìš”.", strength: "ê³µê° ëŠ¥ë ¥", weakness: "ë¹„íŒì— ì·¨ì•½" }, { tag: "ğŸ¤ ë‚´ì¡°ì˜ ì™•", desc: "ë‚´ ì—°ì¸ì´ ì–´ë”” ê°€ì„œ ê¸°ì£½ëŠ” ê¼´ ëª» ë³´ì£ .", strength: "ì‚¬êµì„±", weakness: "ì‹œì„  ì˜ì‹" }],
                "INTJ": [{ tag: "â™Ÿï¸ ì „ëµê°€", desc: "í‘œí˜„ì€ ì„œíˆ´ì§€ë§Œ ë¯¸ë˜ ê³„íšê¹Œì§€ ë‹¤ ì„¸ì›Œë†¨ì–´ìš”.", strength: "í†µì°°ë ¥", weakness: "ê°ì • ì„œíˆ¼" }, { tag: "ğŸ¦‰ ë‡Œì„¹ë‚¨ë…€", desc: "ë°°ìš¸ ì ì´ ë§ì€ ì‚¬ëŒ. ë…¼ë¦¬ì ì¸ ëŒ€í™”ë¥¼ ì¢‹ì•„í•´ìš”.", strength: "ë¬¸ì œ í•´ê²°", weakness: "ì™„ë²½ì£¼ì˜" }],
                // ... ë‚˜ë¨¸ì§€ ìœ í˜•ë“¤ì€ ê¸°ë³¸ê°’ ì‚¬ìš©
            };
            const defaultTraits = {
                "INFJ": { tag: "ğŸ”® ì˜ˆì–¸ê°€", desc: "ê²‰ì€ ë¶€ë“œëŸ½ì§€ë§Œ ì†ì€ ë‹¨ë‹¨í•´ìš”. ì„¬ì„¸í•¨ì´ ìˆì£ .", strength: "í†µì°°ë ¥", weakness: "ì˜ˆë¯¼í•¨" },
                "INTP": { tag: "ğŸ§ª ê²Œìœ¼ë¥¸ ì²œì¬", desc: "ê´€ì‹¬ ë¶„ì•¼ì—” ë¯¸ì¹œ ë“¯ì´ íŒŒê³ ë“¤ì§€ë§Œ ë°€ë‹¹ì€ ê·€ì°®ì•„í•´ìš”.", strength: "ë¶„ì„ë ¥", weakness: "ê³µê° ì„œíˆ¼" },
                "INFP": { tag: "ğŸ§š ë‚­ë§Œê°€", desc: "ìì‹ ë§Œì˜ ì„¸ê³„ê°€ í™•ê³ í•´ìš”. ì˜ˆìˆ ì  ê°ìˆ˜ì„±ì´ ìµœê³ ì…ë‹ˆë‹¤.", strength: "ìˆœìˆ˜í•¨", weakness: "ìœ ë¦¬ë©˜íƒˆ" },
                "ESTJ": { tag: "ğŸ‘‘ ë¦¬ë”", desc: "í˜¸ë¶ˆí˜¸ê°€ í™•ì‹¤í•˜ê³  ë¦¬ë“œí•˜ëŠ” ê±¸ ì¢‹ì•„í•´ìš”. ì‚¬ì´ë‹¤ ê°™ì€ ì• ì¸!", strength: "ì¶”ì§„ë ¥", weakness: "ì§ì„¤ì " },
                "ENTJ": { tag: "ğŸ”¥ ë¶ˆë„ì €", desc: "í•¨ê»˜ ì„±ì¥í•˜ëŠ” ì—°ì• ë¥¼ ì›í•´ìš”. ì•¼ë§ ìˆëŠ” ë©‹ì§„ ì‚¬ëŒ.", strength: "ë¦¬ë”ì‹­", weakness: "ê³µê° ë¶€ì¡±" },
                "ENFJ": { tag: "ğŸ¤ ì–¸ë³€ê°€", desc: "ì—°ì¸ì˜ ì„±ì¥ì„ ë•ëŠ” ê±¸ ê¸°ì¨ìœ¼ë¡œ ì•Œì•„ìš”. ì‚¬ë‘ì´ ë„˜ì¹©ë‹ˆë‹¤.", strength: "ì„¤ë“ë ¥", weakness: "í¬ìƒ" },
                "ISTP": { tag: "ğŸ”§ ë§ŒëŠ¥ë§¨", desc: "ê·€ì°®ì€ ê±´ ì‹«ì§€ë§Œ í•„ìš”í•  ë• ëšë”± í•´ê²°í•´ì¤˜ìš”.", strength: "ì†ì¬ì£¼", weakness: "ë¬´ê´€ì‹¬" },
                "ISFP": { tag: "ğŸ¨ ì§‘ìˆœì´/ì§‘ëŒì´", desc: "ì¹¨ëŒ€ ë°–ì€ ìœ„í—˜í•´! í•˜ì§€ë§Œ ë§‰ìƒ ë°ì´íŠ¸í•˜ë©´ ì˜ ë†€ì•„ìš”.", strength: "ì˜ˆìˆ ì ", weakness: "ê²Œìœ¼ë¦„" },
                "ESTP": { tag: "âš¡ ìŠ¹ë¶€ì‚¬", desc: "ê³ ë¯¼í•  ì‹œê°„ì— ì €ì§ˆëŸ¬ìš”! ë’¤ë ì—†ëŠ” ì¿¨í•œ ì„±ê²©.", strength: "í–‰ë™ë ¥", weakness: "ì¶©ë™ì„±" },
                "ESFP": { tag: "ğŸ’ƒ ì—°ì˜ˆì¸", desc: "ì¸ìƒì€ ì¦ê±°ì›Œì•¼ì£ ! ë¶„ìœ„ê¸° ë©”ì´ì»¤.", strength: "ìŠ¤íƒ€ì„±", weakness: "ì§„ì§€í•¨ ë¶€ì¡±" }
            };
            const specialPairs = {
                "ENTP-ISFJ": { title: "ğŸª ì—°ê³¼ ì–¼ë ˆ", desc: "ì‚¬ê³ ë­‰ì¹˜ ENTPë¥¼ ì¡°ìš©íˆ ìˆ˜ìŠµí•´ì£¼ëŠ” ISFJ! ìµœê³ ì˜ ê¶í•©ì…ë‹ˆë‹¤.", synergy: "ìƒí˜¸ ë³´ì™„", conflict: "ë¬´ê³„íš vs ê³„íš", score: 98 },
                "ENTP-ISTJ": { title: "âš”ï¸ ì°½ê³¼ ë°©íŒ¨", desc: "ìƒˆë¡œìš´ ê±¸ ì‹œë„í•˜ë ¤ëŠ” ENTPì™€ ì›ì¹™ì„ ì§€í‚¤ë ¤ëŠ” ISTJ.", synergy: "íš¨ìœ¨ì  ë¬¸ì œí•´ê²°", conflict: "í˜ì‹  vs ì „í†µ", score: 65 },
                "ENTP-ENTP": { title: "ğŸ¤¡ ê±°ìš¸ ë³´ê¸°", desc: "ë§Œë‚˜ë©´ ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¥´ê³  ë– ë“¤ì–´ìš”. í‹°í‚¤íƒ€ì¹´ ìµœê³ !", synergy: "ì§€ë£¨í•  í‹ˆ ì—†ìŒ", conflict: "ë‹¨ì ì´ ë³´ì„", score: 80 },
                "INFP-ENFJ": { title: "ğŸ‘¸ ì™•ìì™€ ê³µì£¼", desc: "ì„œë¡œë¥¼ ë™ê²½í•˜ê³  ì•„ê»´ì£¼ëŠ” ë‚­ë§Œì ì¸ ê´€ê³„.", synergy: "ì •ì„œì  ì§€ì§€", conflict: "í˜„ì‹¤ íšŒí”¼", score: 95 }
            };

            function generateDynamicChemistry(typeA, typeB) {
                let score = 70; let title = "ì•Œ ìˆ˜ ì—†ëŠ” ì´ëŒë¦¼"; let desc = "ì„œë¡œ ë‹¤ë¥´ì§€ë§Œ ëŒë¦¬ëŠ” ë¬˜í•œ ë§¤ë ¥ì´ ìˆì–´ìš”."; let synergy = "ìƒˆë¡œìš´ ë°œê²¬"; let conflict = "ì„±í–¥ ì°¨ì´";
                let diffCount = 0; for(let i=0; i<4; i++) if(typeA[i] !== typeB[i]) diffCount++;
                if (diffCount === 0) { title = "ê±°ìš¸ì„ ë³´ëŠ” ì‚¬ì´"; desc = "ë‚˜ë‘ ë˜‘ê°™ì€ ì‚¬ëŒ! í¸í•˜ì§€ë§Œ ë‹¨ì ë„ ë˜‘ê°™ì´ ë³´ì—¬ìš”."; score = 80; conflict = "ë™ì¡± í˜ì˜¤"; }
                else if (diffCount === 4) { title = "ë‹¤ë¥¸ í–‰ì„± ì»¤í”Œ"; desc = "ë¨¸ë¦¬ë¶€í„° ë°œëê¹Œì§€ ë‹¬ë¼ìš”. ê·¸ë˜ì„œ ë” ê°•ë ¬í•˜ê²Œ ëŒë¦½ë‹ˆë‹¤."; score = 95; synergy = "ì™„ë²½í•œ ë³´ì™„"; }
                return { title, desc, synergy, conflict, score };
            }

            const dataList = document.getElementById('mbti-list');
            validMbtiList.forEach(t => { let opt = document.createElement('option'); opt.value = t; dataList.appendChild(opt); });

            function getThoughts(me, you) { return `"ë„ˆëŠ” ì°¸ ì‹ ê¸°í•œ ì‚¬ëŒì´ì•¼. ê·¸ë˜ì„œ ë” ì•Œê³  ì‹¶ì–´."`; }

            function validateAndAnalyze() {
                const inputA = document.getElementById('mbti-a');
                const inputB = document.getElementById('mbti-b');
                const valA = inputA.value.toUpperCase().trim();
                const valB = inputB.value.toUpperCase().trim();
                if (!validMbtiList.includes(valA)) { alert("ë‚˜ì˜ MBTIë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”!"); inputA.focus(); return; }
                if (!validMbtiList.includes(valB)) { alert("ì—°ì¸ì˜ MBTIë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”!"); inputB.focus(); return; }
                
                // [ìˆ˜ì •] ì¿ íŒ¡ ì—´ê¸° ì œê±°í•˜ê³  ë°”ë¡œ ë¶„ì„ ì‹œì‘
                analyzeRelationship(valA, valB);
            }

            function analyzeRelationship(mbtiA, mbtiB) {
                const getTrait = (t) => (mbtiTraits[t] ? mbtiTraits[t][Math.floor(Math.random() * mbtiTraits[t].length)] : defaultTraits[t]);
                let traitA = getTrait(mbtiA); let traitB = getTrait(mbtiB);
                let pairKey = [mbtiA, mbtiB].sort().join("-");
                let chemistry = specialPairs[pairKey] || generateDynamicChemistry(mbtiA, mbtiB);

                const resultHTML = `
                    <div class="max-w-4xl mx-auto space-y-12">
                        <div class="chemistry-card rounded-3xl p-8 md:p-10 text-center shadow-xl relative overflow-hidden">
                             <div class="absolute top-0 left-0 w-full h-3 bg-gradient-to-r from-pink-400 to-orange-400"></div>
                             <div class="inline-block bg-slate-100 text-slate-500 font-bold px-4 py-1 rounded-full text-xs mb-6 tracking-widest">RELATIONSHIP TYPE</div>
                            <h2 class="text-3xl md:text-4xl font-extrabold text-slate-900 mb-6 leading-tight">${chemistry.title}</h2>
                            <p class="text-slate-600 leading-relaxed break-keep text-lg md:text-xl mb-8 px-4">${chemistry.desc}</p>
                            <div class="mt-8">
                                <span class="text-slate-400 text-sm font-bold mr-2">ê¶í•© ì ìˆ˜</span>
                                <div class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-400 inline-block align-middle">${chemistry.score}</div>
                                <span class="text-2xl text-slate-300 font-light">/ 100</span>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10">
                            <div class="bg-white p-8 rounded-[2rem] border border-blue-100 shadow-lg">
                                <div class="flex items-center gap-3 mb-4">
                                    <span class="bg-blue-100 text-blue-500 w-10 h-10 flex items-center justify-center rounded-full text-xl"><i class="fas fa-user"></i></span>
                                    <div><h3 class="font-black text-2xl text-slate-800">${mbtiA}</h3><p class="text-blue-400 font-bold text-xs">ë‚˜ì˜ í”„ë¡œí•„</p></div>
                                </div>
                                <p class="text-blue-500 font-bold text-lg mb-2">${traitA.tag}</p>
                                <p class="text-slate-600 text-sm leading-relaxed mb-4">${traitA.desc}</p>
                            </div>
                            <div class="bg-white p-8 rounded-[2rem] border border-pink-100 shadow-lg">
                                <div class="flex items-center justify-end gap-3 mb-4">
                                    <div class="text-right"><h3 class="font-black text-2xl text-slate-800">${mbtiB}</h3><p class="text-pink-400 font-bold text-xs">ì—°ì¸ì˜ í”„ë¡œí•„</p></div>
                                    <span class="bg-pink-100 text-pink-500 w-10 h-10 flex items-center justify-center rounded-full text-xl"><i class="fas fa-heart"></i></span>
                                </div>
                                <p class="text-pink-500 font-bold text-lg mb-2 text-right">${traitB.tag}</p>
                                <p class="text-slate-600 text-sm leading-relaxed mb-4 text-right">${traitB.desc}</p>
                            </div>
                        </div>

                        <div class="mt-12">
                            <div id="lock-screen" class="bg-slate-900 rounded-3xl p-10 text-center shadow-2xl relative overflow-hidden group">
                                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
                                <div class="relative z-10">
                                    <i class="fas fa-lock text-5xl text-slate-600 mb-4 group-hover:text-yellow-400 transition-colors duration-500 animate-float-lock"></i>
                                    <h3 class="font-bold text-white text-2xl mb-2">ğŸ”’ ì•ˆ ì‹¸ìš°ëŠ” <span class="text-yellow-400">ì‹œí¬ë¦¿ ê¿€íŒ</span></h3>
                                    <p class="text-slate-400 text-sm mb-8">ëŒ€í™”ë²•, ë°ì´íŠ¸ ì¶”ì²œ, ì ˆëŒ€ ê¸ˆê¸°ì‚¬í•­ í™•ì¸í•˜ê¸°</p>
                                    <button id="coupang-trigger-btn" class="w-full md:w-auto px-10 py-4 text-white font-bold rounded-full shadow-lg transform transition hover:scale-105 coupang-btn-gradient flex items-center justify-center gap-3 mx-auto text-lg animate-pulse-glow">
                                        <span>ì¿ íŒ¡ ì•„ì´ì‡¼í•‘ 10ì´ˆë§Œ í•˜ê³  í™•ì¸í•˜ê¸°</span> <i class="fas fa-unlock-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div id="unlocked-content" class="hidden bg-white border-2 border-slate-900 rounded-3xl p-8 shadow-2xl relative">
                                <div class="absolute -top-5 left-1/2 -translate-x-1/2 bg-slate-900 text-yellow-400 px-6 py-2 rounded-full font-bold text-sm shadow-lg"><i class="fas fa-crown mr-2"></i>SECRET TIPS UNLOCKED</div>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                                    <div class="bg-blue-50 p-6 rounded-2xl text-center"><h4 class="font-bold text-slate-800 mb-2">ğŸ’¬ ëŒ€í™”ì˜ ê¸°ìˆ </h4><p class="text-sm text-slate-600">ì„œë¡œ ë‹¤ë¦„ì„ ì¸ì •í•˜ê³  'ë‚˜' í™”ë²•ìœ¼ë¡œ ëŒ€í™”í•˜ì„¸ìš”.</p></div>
                                    <div class="bg-pink-50 p-6 rounded-2xl text-center"><h4 class="font-bold text-slate-800 mb-2">ğŸŸï¸ ì¶”ì²œ ë°ì´íŠ¸</h4><p class="text-sm text-slate-600">ì´ë²ˆ ì£¼ëŠ” ${mbtiA}ì˜ ì·¨í–¥, ë‹¤ìŒ ì£¼ëŠ” ${mbtiB}ì˜ ì·¨í–¥ëŒ€ë¡œ!</p></div>
                                    <div class="bg-yellow-50 p-6 rounded-2xl text-center"><h4 class="font-bold text-slate-800 mb-2">âš ï¸ ì ˆëŒ€ ê¸ˆê¸°ì‚¬í•­</h4><p class="text-sm text-slate-600">ìƒëŒ€ë¥¼ ë°”ê¾¸ë ¤ í•˜ì§€ ë§ˆì„¸ìš”. ìˆëŠ” ê·¸ëŒ€ë¡œ ì‚¬ë‘í•´ì£¼ì„¸ìš”.</p></div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-12 flex justify-center w-full">
                            <div id="coupang-banner-frame" style="width: 100%; max-width: 680px; height: 160px; overflow: hidden;"></div>
                        </div>

                    </div>
                `;

                document.getElementById('result-content').innerHTML = resultHTML;
                document.getElementById('input-page').classList.add('hidden');
                document.getElementById('result-page').classList.remove('hidden');
                window.scrollTo(0, 0);

                // ì‹œí¬ë¦¿ ë²„íŠ¼ ë¡œì§ (ì„¸ì…˜ ì²´í¬)
                document.getElementById('coupang-trigger-btn').addEventListener('click', () => {
                    if (!sessionStorage.getItem('coupang_visited')) {
                        window.open('https://link.coupang.com/a/dcbQl7', '_blank');
                        sessionStorage.setItem('coupang_visited', 'true');
                    }
                    document.getElementById('lock-screen').classList.add('hidden');
                    document.getElementById('unlocked-content').classList.remove('hidden');
                    document.getElementById('unlocked-content').classList.add('fade-in');
                });

                // [ì¤‘ìš”] ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ë°°ë„ˆ ìŠ¤í¬ë¦½íŠ¸ ì•ˆì „ ì£¼ì… (0.1ì´ˆ í›„ ì‹¤í–‰)
                setTimeout(() => {
                    const bannerFrame = document.getElementById('coupang-banner-frame');
                    if (bannerFrame) {
                        const iframe = document.createElement('iframe');
                        iframe.style.width = '100%';
                        iframe.style.height = '100%';
                        iframe.style.border = 'none';
                        iframe.scrolling = 'no';
                        bannerFrame.appendChild(iframe);

                        const doc = iframe.contentWindow.document;
                        doc.open();
                        doc.write(`
                            <body style="margin:0; padding:0; display:flex; justify-content:center; align-items:center; overflow:hidden;">
                                <script src="https://ads-partners.coupang.com/g.js"><\/script>
                                <script>
                                    new PartnersCoupang.G({"id":949693,"template":"carousel","trackingCode":"AF3238435","width":"680","height":"160","tsource":""});
                                <\/script>
                            </body>
                        `);
                        doc.close();
                    }
                }, 100);
            }

            function resetPage() {
                document.getElementById('input-page').classList.remove('hidden');
                document.getElementById('result-page').classList.add('hidden');
                document.getElementById('mbti-a').value = '';
                document.getElementById('mbti-b').value = '';
            }

            window.updateFavicon = function(mbtiInput) {
                const mbti = mbtiInput.toUpperCase().trim();
                let topText = "MB", bottomText = "TI";
                if(mbti.length===4){ topText=mbti.substring(0,2); bottomText=mbti.substring(2,4); }
                const svg=`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path fill='#ff6b6b' d='M50,88.9C25.5,65.3,5,45.5,5,28.6c0-14.9,12.1-26.6,27-26.6c8.7,0,16.6,4.3,21.5,10.9 c3.8-5.3,10.1-9.5,18.3-10.9C86.5,0.3,98,11.7,98,26.6c0,17-21.6,37.7-48,62.3H50z'/><style>.txt{fill:white;font-family:sans-serif;font-weight:900;text-anchor:middle}</style><text class='txt' x='50%' y='38' font-size='30'>${topText}</text><text class='txt' x='50%' y='68' font-size='30'>${bottomText}</text></svg>`;
                document.getElementById('dynamic-favicon').href = "data:image/svg+xml," + encodeURIComponent(svg);
            }
            updateFavicon("");

            document.getElementById('analyze-btn').addEventListener('click', validateAndAnalyze);
            document.getElementById('back-btn').addEventListener('click', resetPage);
        });
    </script>
</body>
</html>
