<!DOCTYPE html>
<html lang="ko">
<head>
    <meta name="google-adsense-account" content="ca-pub-6540004747918466">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MBTI 기반 우정 여행 궁합 분석. 친구와 여행 가서 안 싸우는 법, 여행 스타일 궁합 확인. 무료 MBTI 여행 가이드.">
    <link rel="canonical" href="https://aimbti.xyz/friends-travel">
    <title>우정 여행 판독기 | 여행 가서 안 싸우는 법</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-33VJ9T8RW5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-33VJ9T8RW5');
    </script>
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aimbti.xyz/travel">
    <meta property="og:title" content="✈️ 우정 여행 판독기 | MBTI 여행 스타일 궁합">
    <meta property="og:description" content="우리 여행 가서 안 싸울 수 있을까? 여행 점수 확인하고 시크릿 공략법 잠금해제 하세요! 🏖️">
    <meta property="og:image" content="https://cdn-icons-png.flaticon.com/512/2060/2060284.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="우정 여행 판독기 | MBTI 여행 스타일">
    <meta name="twitter:description" content="MBTI로 알아보는 친구와의 여행 궁합 분석">
    <meta name="twitter:image" content="https://cdn-icons-png.flaticon.com/512/2060/2060284.png">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "우정 여행 판독기",
      "description": "MBTI 기반 친구와의 여행 궁합 분석 가이드",
      "url": "https://aimbti.xyz/friends-travel",
      "applicationCategory": "TravelApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      }
    }
    </script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;800&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; color: #334155; }
        
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        /* 깔끔한 화이트톤 카드 디자인 */
        .clean-card { background: #ffffff; border: 1px solid #e2e8f0; border-radius: 24px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03); }
        
        /* 포인트 컬러 (스카이블루) */
        .text-point { color: #0ea5e9; }
        .bg-point { background-color: #0ea5e9; }
        
        .score-bar { transition: width 1.5s ease-out; }
        
        .bounce-custom { animation: bounce 2s infinite; }
        
        /* 스타일 분석 리스트 스타일 */
        .style-list { list-style: none; padding: 0; margin: 0; text-align: left; }
        .style-list li { position: relative; padding-left: 1rem; margin-bottom: 0.4rem; line-height: 1.5; font-size: 0.925rem; }
        .style-list li::before { content: ''; position: absolute; left: 0; top: 0.6em; width: 4px; height: 4px; border-radius: 50%; background-color: currentColor; opacity: 0.7; }

        /* 시크릿 가이드 리스트 스타일 */
        .custom-list li { position: relative; padding-left: 1.2em; margin-bottom: 0.5em; }
        .custom-list li::before { content: '•'; position: absolute; left: 0; color: #cbd5e1; font-weight: bold; }
    </style>
</head>
<body class="min-h-screen relative pb-10">

    <div class="w-full max-w-3xl mx-auto px-4 py-8">

        <div id="input-page" class="flex flex-col justify-center min-h-[80vh] fade-in">
            <div class="text-center mb-10">
                <span class="inline-block bg-sky-50 text-sky-600 text-xs font-bold px-3 py-1 rounded-full mb-3 tracking-wide">Travel Mate Test</span>
                <h1 class="text-3xl md:text-4xl font-extrabold text-slate-900 mb-3 leading-tight">
                    우리는 <span class="text-point">환상의 짝꿍</span>일까?<br>아니면 <span class="text-rose-500">파국</span>일까? ✈️
                </h1>
                <p class="text-slate-500 text-sm md:text-base">MBTI로 분석하는 여행 스타일 & 절교 방지 가이드</p>
            </div>

            <div class="clean-card p-8 md:p-10 shadow-lg">
                <div class="flex flex-col gap-6">
                    <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                        <div class="w-full">
                            <label class="block text-xs font-bold text-slate-400 mb-2 ml-1">나의 MBTI</label>
                            <input id="mbti-a" oninput="this.value = this.value.toUpperCase()" class="w-full bg-slate-50 border border-slate-200 rounded-xl p-4 text-center text-2xl font-bold uppercase text-slate-800 focus:border-sky-500 focus:ring-2 focus:ring-sky-100 outline-none transition placeholder-slate-300 tracking-widest" placeholder="ESFP" maxlength="4">
                        </div>
                        <i class="fas fa-times text-slate-300 text-xl"></i>
                        <div class="w-full">
                            <label class="block text-xs font-bold text-slate-400 mb-2 ml-1">친구 MBTI</label>
                            <input id="mbti-b" oninput="this.value = this.value.toUpperCase()" class="w-full bg-slate-50 border border-slate-200 rounded-xl p-4 text-center text-2xl font-bold uppercase text-slate-800 focus:border-sky-500 focus:ring-2 focus:ring-sky-100 outline-none transition placeholder-slate-300 tracking-widest" placeholder="ISTJ" maxlength="4">
                        </div>
                    </div>
                    
                    <div class="flex flex-col gap-3 mt-4">
                        <button onclick="showResultDirect()" class="w-full bg-white hover:bg-slate-50 text-slate-800 border-2 border-slate-200 font-bold py-4 rounded-xl shadow-lg text-base transition-all transform active:scale-[0.98] flex items-center justify-center gap-2">
                            <span>내용 확인</span> <i class="fas fa-arrow-right"></i>
                        </button>
                        <button onclick="showResultWithCoupang()" class="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-4 rounded-xl shadow-lg text-base transition-all transform active:scale-[0.98] flex items-center justify-center gap-2">
                            <span>쿠팡 다녀와서 더 자세한 내용 확인하기</span> <i class="fas fa-shopping-cart"></i>
                        </button>
                    </div>
                </div>
            </div>
           <div class="mt-10 w-full max-w-3xl">
                
                <div class="text-center mb-6 relative">
                    <div class="absolute inset-0 flex items-center" aria-hidden="true">
                        <div class="w-full border-t border-slate-200"></div>
                    </div>
                    <div class="relative flex justify-center">
                        <span class="bg-slate-50 px-4 text-xs font-bold text-slate-400 tracking-widest uppercase">BONUS</span>
                    </div>
                    <h3 class="mt-4 text-slate-800 font-bold text-sm animate-bounce">
                        🛍️ 쿠팡 아이쇼핑 잠깐 하고<br>다른 테스트 하러 가기
                    </h3>
                </div>
                
                <div class="grid grid-cols-2 gap-3 md:gap-4">
                    <button onclick="goTest('/')" class="bg-white border border-rose-100 p-4 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group flex flex-col items-center text-center w-full">
                        <div class="w-10 h-10 bg-rose-50 rounded-full flex items-center justify-center text-rose-500 mb-2 group-hover:scale-110 transition-transform">
                            <i class="fas fa-heart-broken"></i>
                        </div>
                        <h3 class="font-bold text-slate-700 text-sm">커플 싸움 판독기</h3>
                        <p class="text-[10px] text-slate-400 mt-1">왜 싸우는지 분석</p>
                    </button>

                    <button onclick="goTest('/some')" class="bg-white border border-pink-100 p-4 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group flex flex-col items-center text-center w-full">
                        <div class="w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center text-pink-500 mb-2 group-hover:scale-110 transition-transform">
                            <i class="fas fa-kiss-wink-heart"></i>
                        </div>
                        <h3 class="font-bold text-slate-700 text-sm">썸남썸녀 공략</h3>
                        <p class="text-[10px] text-slate-400 mt-1">플러팅 필승 전략</p>
                    </button>

                    <button onclick="goTest('/friends-travel')" class="bg-white border border-sky-100 p-4 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group flex flex-col items-center text-center w-full">
                        <div class="w-10 h-10 bg-sky-50 rounded-full flex items-center justify-center text-sky-500 mb-2 group-hover:scale-110 transition-transform">
                            <i class="fas fa-plane"></i>
                        </div>
                        <h3 class="font-bold text-slate-700 text-sm">우정 여행 판독기</h3>
                        <p class="text-[10px] text-slate-400 mt-1">절교 방지 가이드</p>
                    </button>

                    <button onclick="goTest('/biz')" class="bg-white border border-indigo-100 p-4 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group flex flex-col items-center text-center w-full">
                        <div class="w-10 h-10 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-500 mb-2 group-hover:scale-110 transition-transform">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <h3 class="font-bold text-slate-700 text-sm">직장상사 공략</h3>
                        <p class="text-[10px] text-slate-400 mt-1">사회생활 치트키</p>
                    </button>
                </div>
            </div>

            <script>
                function goTest(targetUrl) {
                    // 1. 새 탭에서 쿠팡 열기 (아이쇼핑)
                    window.open('https://link.coupang.com/a/ddddJ5', '_blank');
                    
                    // 2. 현재 탭은 해당 테스트 페이지로 이동 (약간의 딜레이 후 자연스럽게)
                    setTimeout(() => {
                        location.href = targetUrl;
                    }, 100);
                }
            </script>
        </div>

        <div id="result-page" class="hidden fade-in">
            <div class="flex items-center justify-between mb-6">
                <button id="back-btn" class="text-slate-400 hover:text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors">
                    <i class="fas fa-chevron-left"></i> 다시하기
                </button>
                <span class="text-[10px] font-bold text-sky-500 bg-sky-50 px-2 py-1 rounded">VER 2.7</span>
            </div>

            <div id="result-content" class="space-y-6"></div>

            <div class="mt-12 pt-8 border-t border-slate-200">
                <h3 class="text-center font-bold text-slate-800 mb-6">👀 다른 테스트도 해보세요!</h3>
                <div class="grid grid-cols-2 gap-3">
                    <a href="https://aimbti.xyz/some" class="clean-card p-4 text-center hover:shadow-md transition-shadow group">
                        <div class="w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center mx-auto mb-2 text-pink-500 group-hover:scale-110 transition-transform">
                            <i class="fas fa-heart"></i>
                        </div>
                        <p class="text-sm font-bold text-slate-700">썸남썸녀 공략</p>
                        <p class="text-[10px] text-slate-400">플러팅 필승법</p>
                    </a>
                    <a href="https://aimbti.xyz/biz" class="clean-card p-4 text-center hover:shadow-md transition-shadow group">
                        <div class="w-10 h-10 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-2 text-indigo-500 group-hover:scale-110 transition-transform">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <p class="text-sm font-bold text-slate-700">직장상사 공략</p>
                        <p class="text-[10px] text-slate-400">사회생활 치트키</p>
                    </a>
                </div>
            </div>

            <div class="mt-6 flex flex-col md:flex-row items-center justify-center gap-3 w-full px-4">
                
                <button onclick="shareLink()" class="w-full md:w-auto inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-slate-200 rounded-full shadow-sm text-slate-600 font-bold hover:bg-slate-50 transition-all text-sm group">
                    <i class="fas fa-share-alt group-hover:text-rose-500 transition-colors"></i> 친구에게 결과 공유하기
                </button>

                <a href="https://link.coupang.com/a/ddddJ5" target="_blank" class="w-full md:w-auto inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-yellow-400 to-orange-500 border border-orange-400 rounded-full shadow-sm text-white font-bold hover:opacity-90 transition-all text-sm animate-bounce">
                    <i class="fas fa-shopping-cart"></i> 아 맞다 나 쿠팡에 살거있다!
                </a>

            </div>
            
            <div class="mt-8 flex justify-center w-full overflow-hidden">
                <iframe src="https://ads-partners.coupang.com/widgets.html?id=950069&template=carousel&trackingCode=AF3238435&subId=&width=680&height=160&tsource=" width="680" height="160" frameborder="0" scrolling="no" referrerpolicy="unsafe-url" browsingtopics style="max-width: 100%;"></iframe>
            </div>

        </div>

    </div>

    <div class="fixed bottom-2 right-2 text-[10px] text-slate-300 font-mono pointer-events-none select-none z-50">
        Ver 2.7 NoLock
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const validMbtiList = ["ISTJ","ISFJ","INFJ","INTJ","ISTP","ISFP","INFP","INTP","ESTP","ESFP","ENFP","ENTP","ESTJ","ESFJ","ENFJ","ENTJ"];

            // 1. 여행 스타일 데이터
            const mbtiData = {
                "ISTJ": [{ 
                    type: "분 단위 계획표를 숭배하는 인간 엑셀", 
                    like: "출발 3일 전부터 시뮬레이션 돌린 오차 없는 동선, 혹시 몰라 챙겨 온 바우처 출력물 3장, 10원 단위까지 딱 떨어지는 깔끔한 더치페이 정산", 
                    dislike: "당일 아침에 갑자기 '그냥 바다나 보러 갈까?'라며 계획 뒤엎기, 약속 시간 5분 이상 늦어놓고 '코리안 타임' 드립 치기, 웨이팅 끝이 안 보이는 인스타 감성 핫플", 
                    tip: "이 친구는 여행을 '즐기러' 가는 게 아니라 '퀘스트를 깨러' 갑니다. 계획대로 착착 진행될 때 희열을 느끼니, 제발 늦잠 자지 말고 군말 없이 따라주세요. '와, 너 계획 진짜 AI 수준이다' 한마디면 밥도 사줍니다." 
                }],
                "ISFJ": [{ 
                    type: "도라에몽 주머니를 가진 걸어 다니는 구급상자", 
                    like: "친구 인생샷 건져주려 바닥에 눕는 희생정신, 상비약/물티슈/보조배터리/우산 바리바리 챙기기, 서로 배려하며 큰 소리 안 나는 평화로운 분위기", 
                    dislike: "안전장치 없는 위험하고 무모한 액티비티(번지점프 등), 식당 직원에게 함부로 대하거나 큰 소리로 싸우는 것, 체력 방전될 때까지 걷게 만드는 지옥의 행군", 
                    tip: "당신이 '아 맞다, 그거 안 가져왔다' 하면 이 친구 가방에서 다 나옵니다. 겉으론 웃고 있어도 속으론 발 아프고 지쳐있을 수 있으니 수시로 '힘들지 않아? 좀 쉴까?'라고 물어봐 주는 센스가 필수입니다." 
                }],
                "INFJ": [{ 
                    type: "여행의 의미를 찾아 떠나는 고독한 순례자", 
                    like: "노을 보며 1시간 동안 말없이 멍때리기, 밤새 나누는 깊은 대화(인생, 우주, 가치관), 관광객 없이 현지인만 있는 조용한 골목길 투어", 
                    dislike: "깃발 꽂고 다니는 시끄러운 단체 관광 패키지, 의미 없는 가벼운 농담 따먹기나 술 게임, 쓰레기 굴러다니고 무질서한 시장통", 
                    tip: "유명 관광지 도장 깨기보다는 여행의 '낭만'과 '의미'를 중요시합니다. 밤에 숙소에서 맥주 한 캔 하면서 '오늘 여행 어땠어? 어떤 점이 좋았어?'라고 진지하게 물어봐 주면 감동해서 눈물 흘릴 수도 있습니다." 
                }],
                "INTJ": [{ 
                    type: "동선 최적화에 목숨 건 효율 극대화 전략가", 
                    like: "동선 꼬임 없이 물 흐르듯 이어지는 완벽한 스케줄, 지적 호기심을 채워주는 박물관/역사 투어, 불필요한 이동 시간을 0으로 만드는 것", 
                    dislike: "맛도 없는데 단지 '예뻐서' 가는 비효율적인 핫플 줄 서기, 팩트 체크 안 된 가이드의 설명, 해결책 없이 감정에 호소하며 징징거리는 것", 
                    tip: "이 친구를 설득하려면 감성이 아니라 논리가 필요합니다. '여기 예쁘대'가 아니라 '여기가 세계문화유산인데 동선상 지금 가는 게 최적이야'라고 말해야 움직입니다. 플랜 B까지 다 짜놨으니 믿고 따르세요." 
                }],
                "ISTP": [{ 
                    type: "귀찮음과 호기심이 공존하는 고독한 생존 전문가", 
                    like: "누구의 간섭도 받지 않는 혼자만의 자유시간, 아무 생각 없이 멍때리기, 계획 없이 발길 닿는 대로 가기(구글맵 의존 X), 현지인 찐맛집", 
                    dislike: "강제적인 단체 행동(다 같이 점프샷 찍기, 단체티 입기), 아침 일찍 일어나는 것, 보여주기식 인스타 카페에서 1시간 줄 서기", 
                    tip: "아침에 깨우지 마세요. 11시까지 자게 놔두고 혼자 산책 다녀오세요. 그리고 '각자 놀다가 저녁에 맛있는 거 먹자'고 하면 세상에서 제일 쿨하고 좋은 친구가 됩니다. 과도한 관심은 사절입니다." 
                }],
                "ISFP": [{ 
                    type: "호텔 침대와 물아일체 된 눕방 여행러", 
                    like: "푹신한 호텔 침대에서 뒹굴기, 룸서비스 시켜 먹으며 넷플릭스 보기, 예쁜 수영장에서 인생샷 건지기, 아기자기한 소품샵 구경", 
                    dislike: "새벽 5시 기상하는 극기훈련급 빡빡한 일정, 땀 뻘뻘 흘리는 등산, 빨리빨리 재촉하는 것, 결정 강요하기('뭐 먹을래? 빨리 말해')", 
                    tip: "이 친구에게 일정표 들이밀지 마세요. '오늘은 수영하고 맛있는 거 먹고 푹 쉬자'가 최고의 계획입니다. 휴식이 곧 여행이라고 생각하는 유형이니 재촉하면 스트레스로 병납니다." 
                }],
                "INFP": [{ 
                    type: "현실 감각 제로, 낭만 먹고 사는 방랑자", 
                    like: "정처 없이 골목길 산책하기, 헌책방이나 문구점 투어, 현지 느낌 물씬 나는 낯선 장소, 몽글몽글한 분위기에서 엽서 쓰기", 
                    dislike: "사람 미어터지는 랜드마크 찍기, 쇼핑몰 인파에 갇히기, 옆에서 현실적인 잔소리(돈, 시간, 효율) 계속하는 것", 
                    tip: "가끔 길을 잃거나 엉뚱한 곳으로 가도 '와, 이것도 모험이다!' 하고 맞장구쳐주세요. 현실 감각은 좀 떨어질지 몰라도, 여행의 낭만을 즐기는 데는 최고의 감성 파트너입니다." 
                }],
                "INTP": [{ 
                    type: "이상한 포인트에 꽂히는 호기심 천국 너드", 
                    like: "과학관/박물관/역사 유적지 탐방, 특이한 건축물 구조 분석하기, 밤새 엉뚱한 주제(외계인 등)로 토론하기, 남들이 안 가는 기괴한 곳", 
                    dislike: "남들 다 하는 뻔한 관광 코스 돌기, 인스타용 맛집 줄 서기, 의미 없는 스몰토크 강요받기, 감정적인 위로 강요받기", 
                    tip: "갑자기 엉뚱한 골목으로 새거나 이상한 간판에 꽂혀도 놀라지 마세요. 남들은 절대 안 가는 기괴한 곳에서 엄청난 무언가를 발견해내는 재주가 있습니다. (가끔 밥 먹는 걸 까먹으니 챙겨줘야 함)" 
                }],
                "ESTP": [{ 
                    type: "내일은 없는 것처럼 노는 빠꾸 없는 스릴 러버", 
                    like: "스카이다이빙/서핑/번지점프 등 짜릿한 액티비티, 핫한 클럽이나 파티 가기, 즉흥적으로 현지 친구 사귀어서 합석하기", 
                    dislike: "호텔방에만 박혀있기, 박물관 관람하며 지루한 설명 듣기, 정적인 분위기에서 명상하기, 계획표대로만 움직여야 하는 것", 
                    tip: "체력이 미쳤습니다. 당신이 지쳐 쓰러질 때쯤 '이제 2차 가야지? 밤새워야지!'라고 할 겁니다. 여행 전 홍삼이나 비타민을 꼭 챙겨 드세요. 고민할 시간에 일단 저지르는 스타일입니다." 
                }],
                "ESFP": [{ 
                    type: "세상의 중심은 나, 이 구역의 파티피플", 
                    like: "새로운 사람들과 어울려 놀기, 화려한 조명과 음악이 있는 곳, 시끌벅적한 야시장 투어, 눈에 보이는 건 다 사는 충동구매", 
                    dislike: "조용한 절이나 사원에서 명상하기, 혼자 있는 시간, 심각하고 우울한 이야기, 돈 아껴 쓰라고 옆에서 잔소리하기", 
                    tip: "리액션이 여행의 전부입니다. 별거 아닌 거에도 '대박!', '미쳤다!', '너무 예쁘다!' 외쳐주면 신나서 본인이 밥이고 술이고 다 쏩니다. 통장 잔고는 포기하고 그냥 즐기세요." 
                }],
                "ENFP": [{ 
                    type: "어디로 튈지 모르는 에너자이저 댕댕이", 
                    like: "지나가던 현지인이랑 말 트고 친구 먹기, 우연히 발견한 지역 축제 참여하기, 1분마다 바뀌는 텐션, 새로운 도전 해보기", 
                    dislike: "반복되는 지루한 일상, 숙소에서 잠만 자는 것, 이거 하지 마라 저거 하지 마라 통제하는 것, 혼자 방치되는 것", 
                    tip: "여권, 지갑, 핸드폰... 당신이 다 챙겨야 합니다. 칠칠맞게 흘리고 다니지만, 특유의 애교와 긍정 에너지로 미워할 수 없게 만듭니다. '갑자기?'라고 정색하지 말고 '재밌겠다!'라고 해주세요." 
                }],
                "ENTP": [{ 
                    type: "금기된 것에 도전하는 청개구리 탐험가", 
                    like: "현지 사회 이슈에 대해 토론하기, 남들이 안 하는 특이한 체험, 도전적인 음식 먹어보기(벌레 튀김 등), 길 잃어도 즐거워하기", 
                    dislike: "뻔하디뻔한 패키지 코스, 멍청하고 답답한 가이드의 설명, 무조건적인 동의와 칭찬, 권위적인 통제", 
                    tip: "이 친구가 뭔가 불평하거나 딴지를 걸기 시작하면, 같이 욕해주지 말고 논리적으로 토론해주세요. 싸우는 게 아니라 지적 유희를 즐기는 중입니다. 길을 잃어도 '오히려 좋아'를 외치는 멘탈갑입니다." 
                }],
                "ESTJ": [{ 
                    type: "1분 1초도 낭비하지 않는 자비 없는 총무", 
                    like: "엑셀로 완벽 정리한 예산안, 10분 단위 일정표, 아침 7시 기상 및 조식 필참, 빠르고 효율적인 이동 수단", 
                    dislike: "돈 계산 안 맞는 것(10원이라도), 약속 시간 늦는 것, 느긋하게 밍기적거리는 것, 합당한 이유 없는 계획 변경", 
                    tip: "그냥 이 친구를 총무랑 대장 시켜주세요. 그게 제일 편합니다. 당신은 그저 '충성! 준비 완료!' 하고 따라다니면 됩니다. 토 달면 그때부터 피곤한 설교가 시작됩니다." 
                }],
                "ESFJ": [{ 
                    type: "모두를 챙겨야 직성이 풀리는 눈치 백단 케어 담당", 
                    like: "맛집 미리 예약해오기, 친구들 컨디션 수시로 체크하기, 단체 사진 주도적으로 찍기, 시밀러룩 맞춰 입기", 
                    dislike: "개인플레이하며 이탈하는 것, 밥 맛없다고 투덜대기, 나의 호의를 무시하는 태도, 어색한 침묵이 흐르는 것", 
                    tip: "이 친구가 챙겨줄 때 당연하게 생각하지 말고 '와 너 진짜 센스 쩐다, 고마워'라고 폭풍 칭찬해주세요. 그 인정욕구가 여행을 이끌어가는 원동력입니다. 가족 선물까지 챙기는 세심함이 있습니다." 
                }],
                "ENFJ": [{ 
                    type: "지구 평화와 팀워크를 중시하는 열정 멘토", 
                    like: "모두가 행복하고 만족하는 여행, 의미 있는 체험 활동, 파이팅 넘치는 구호 외치기, 밤샘 수다 떨며 서로 칭찬하기", 
                    dislike: "불평불만 늘어놓기, 이기적인 단독 행동, 여행 분위기 망치는 사람, 비협조적인 태도, 남 험담하기", 
                    tip: "이 친구는 '우리'가 중요합니다. 혼자 튀려고 하지 말고 팀워크를 보여주세요. 저녁에 맥주 한잔하며 '우리 진짜 잘 맞는다, 행복해'라고 말해주면 여행뽕에 취해 좋아 죽습니다." 
                }],
                "ENTJ": [{ 
                    type: "도시를 정복하러 온 야망 넘치는 리더", 
                    like: "하루에 5개 도시 찍기(도장 깨기), 최고의 효율과 가성비, 럭셔리 & 성취감, 주도권 잡고 지휘하기", 
                    dislike: "늘어지는 것, 징징대기, 멍청하게 일 처리해서 시간 낭비하는 것, 우유부단하게 결정 못 하는 것", 
                    tip: "이 친구랑 여행 가면 몸은 극도로 힘든데, 남는 건 제일 많습니다. 군말 없이 따르면 5성급 호텔 업그레이드 같은 행운이 따를 수도 있습니다. 불만 있으면 확실한 대안을 제시하세요." 
                }]
            };

            // 2. 궁합 분석 (유지)
            function getTravelHarmony(me, you) {
                let score = 50, title = "", desc = "", conflict = "";
                const sameJP = (me.includes('J') === you.includes('J'));
                const sameTF = (me.includes('T') === you.includes('T'));

                if (me.includes('J') && you.includes('P')) {
                    score = 60; title = "🔥 계획파 vs 즉흥파"; desc = "당신의 10분 단위 계획표를 친구는 '참고용'으로만 봅니다. 친구를 통제하려다간 첫날부터 싸웁니다. 오전엔 계획대로, 오후엔 자유시간으로 타협하세요.";
                } else if (me.includes('P') && you.includes('J')) {
                    score = 70; title = "🎒 짐꾼 vs 대장님"; desc = "친구의 빡빡한 일정에 숨이 턱턱 막히지만, 예약과 길 찾기는 친구가 다 해줍니다. 몸이 편하려면 잔소리는 감수하고 군말 없이 따르세요.";
                } else if (me.includes('J') && you.includes('J')) {
                    score = 80; title = "⚡ 자존심 강한 두 리더"; desc = "둘 다 계획이 확실해서 오히려 '내 동선'이 맞다고 싸울 수 있습니다. 출발 전에 '오전 당번 / 오후 당번'을 명확히 나누는 게 평화의 지름길입니다.";
                } else {
                    score = 90; title = "🌀 대환장 무계획 콤비"; desc = "둘 다 계획이 없어서 '뭐 먹지?'만 1시간 고민하다 편의점 가겠지만, 의외로 스트레스 없고 평생 남을 레전드 에피소드는 제일 많이 생깁니다!";
                }

                if (!sameTF) {
                    if (me.includes('T')) { conflict = "⚠️ <b>[주의]</b> 당신의 무심한 말투('별론데?', '비효율적인데?')에 친구는 여행 내내 상처받고 꽁해 있을 수 있습니다. 영혼 없어도 리액션 해주세요."; score -= 10; }
                    else { conflict = "⚠️ <b>[주의]</b> 친구에게 감정적인 위로를 바라지 마세요. '다리 아파ㅠ'라고 하면 '택시 타'라고 답할 겁니다. 해결책을 주는 게 그들만의 사랑 표현입니다."; score -= 10; }
                } else {
                    if (me.includes('F')) { conflict = "💖 <b>[좋음]</b> 둘 다 감성이 풍부해서 낙엽만 굴러가도 꺄르르 웃겠네요. 서로 사진 찍어주고 칭찬 감옥에 가두느라 시간 가는 줄 모를 겁니다."; score += 10; }
                    else { conflict = "🤖 <b>[좋음]</b> 감정 소모 없는 쿨한 여행! 불만 있으면 바로 말하고 뒤끝 없이 해결하니 세상 편안합니다. 효율 최강 조합입니다."; score += 10; }
                }
                return { score, title, desc, conflict };
            }

            // 3. 시크릿 데이터 (유지)
            const secretData = {
                "ISTJ": {
                    appeal: "<li><b>시간 약속은 목숨처럼:</b> 5분 일찍 나와서 기다리면 당신을 '신뢰할 수 있는 인간'으로 분류합니다.</li><li><b>계획 칭찬하기:</b> '와, 이 동선 진짜 천재적이다'라고 말해보세요. 입꼬리 씰룩거립니다.</li>",
                    beware: "<li><b>갑작스러운 변경 금지:</b> 이유 없이 '그냥 저기 가볼래?' 하면 시스템 오류 납니다.</li><li><b>공금 횡령(?):</b> 100원이라도 계산 안 맞으면 밤새 잠 못 잡니다. 영수증 꼭 챙기세요.</li>",
                    role: "🫡 인간 구글맵 & 총무",
                    rule: "1. 지각 절대 금지<br>2. 영수증 꼬박꼬박 제출<br>3. 일정표에 토 달지 않기"
                },
                "ISFJ": {
                    appeal: "<li><b>사소한 배려에 감동:</b> '너 짐 무겁지? 내가 들게' 한마디면 평생 충성합니다.</li><li><b>의견 물어봐 주기:</b> '아무거나'라고 할 때 '이거랑 이거 중에 뭐 먹을래?'라고 좁혀주세요.</li>",
                    beware: "<li><b>싸움 구경 금지:</b> 큰 소리 나거나 갈등 상황 생기면 스트레스로 몸져눕습니다.</li><li><b>감사 인사 생략:</b> 챙겨주는 걸 당연하게 여기면 조용히 손절당합니다.</li>",
                    role: "💊 엄마/아빠 & 보급관",
                    rule: "1. 1일 3회 '고마워' 말하기<br>2. 친구 표정 수시로 살피기<br>3. 위험한 행동 하지 않기"
                },
                "INFJ": {
                    appeal: "<li><b>심도 있는 대화:</b> 이동할 때 이어폰 꽂지 말고 인생, 가치관에 대해 물어보세요.</li><li><b>조용한 시간 보장:</b> 기 빨려 보이면 잠시 혼자만의 시간을 주세요. 충전이 필요합니다.</li>",
                    beware: "<li><b>무례함 금지:</b> 식당 직원에게 함부로 대하거나 쓰레기 아무데나 버리면 정떨어져 합니다.</li><li><b>재촉 금지:</b> 감상에 젖어있을 때 '빨리 가자'고 산통 깨지 마세요.</li>",
                    role: "🧘 정신적 지주 & 상담사",
                    rule: "1. 예의 바르게 행동하기<br>2. 1일 1회 깊은 대화<br>3. 혼자 멍때릴 때 건들지 않기"
                },
                "INTJ": {
                    appeal: "<li><b>논리적인 제안:</b> 가고 싶은 곳이 있다면 '감성'이 아니라 '동선 효율'로 설득하세요.</li><li><b>지적 호기심 충족:</b> 박물관이나 유적지 설명글 읽고 있을 때 기다려주세요.</li>",
                    beware: "<li><b>징징대기 금지:</b> 해결책 없이 '힘들어, 배고파, 짜증나'만 반복하면 버리고 갈 수도 있습니다.</li><li><b>멍청한 실수 반복:</b> 같은 실수 두 번 하면 당신을 '짐'으로 간주합니다.</li>",
                    role: "🧠 전략가 & 플랜 B 담당",
                    rule: "1. 징징대지 않기<br>2. 결론부터 말하기<br>3. 길 헤맬 때 훈수 두지 않기"
                },
                "ISTP": {
                    appeal: "<li><b>방목형 여행:</b> '각자 놀다가 저녁에 보자'는 말을 사랑합니다. 구속하지 마세요.</li><li><b>효율 중시:</b> 줄 서서 기다리는 맛집 말고, 사람 없고 맛있는 로컬 식당을 찾으세요.</li>",
                    beware: "<li><b>감성 강요 금지:</b> '여기서 점프샷 찍자', '트윈룩 입자' 하면 질색합니다.</li><li><b>과한 텐션:</b> 아침부터 하이텐션으로 말 걸면 기 빨려 합니다.</li>",
                    role: "🛠 만능 해결사 & 짐꾼",
                    rule: "1. 11시 전 기상 금지<br>2. 인스타 감성 카페 금지<br>3. 말 걸었을 때 단답이면 냅두기"
                },
                "ISFP": {
                    appeal: "<li><b>예쁜 쓰레기(?) 허용:</b> 쓸데없는 기념품 사도 '귀엽다'고 해주세요. 그게 행복입니다.</li><li><b>휴식 보장:</b> 일정 사이에 카페 타임이나 낮잠 시간을 꼭 넣어주세요.</li>",
                    beware: "<li><b>결정 강요 금지:</b> 메뉴 고를 때 재촉하면 멘탈 나갑니다. 부드럽게 리드하세요.</li><li><b>비판 금지:</b> 취향이나 스타일을 지적하면 상처받고 입 꾹 닫습니다.</li>",
                    role: "📸 포토그래퍼 & 감성 리더",
                    rule: "1. 재촉하지 않기<br>2. 사진 찍을 때까지 기다리기<br>3. '아무거나'는 '네가 골라줘' 뜻임"
                },
                "INFP": {
                    appeal: "<li><b>맞장구 쳐주기:</b> 엉뚱한 상상을 말해도 '오 재밌겠다!' 하고 받아주세요.</li><li><b>작은 선물:</b> 여행지에서 산 엽서나 조약돌 하나에도 크게 감동합니다.</li>",
                    beware: "<li><b>현실적인 팩폭:</b> '돈 낭비야', '시간 아까워' 같은 말로 낭만을 깨지 마세요.</li><li><b>갈등 상황:</b> 싸우는 분위기가 되면 숨 막혀 합니다. 좋게 좋게 넘어가세요.</li>",
                    role: "🎨 낭만 가이드 & BGM 담당",
                    rule: "1. 몽글몽글한 분위기 지켜주기<br>2. 칭찬 감옥 가두기<br>3. 불평불만 하지 않기"
                },
                "INTP": {
                    appeal: "<li><b>지적 탐구 존중:</b> 이상한 간판이나 돌맹이를 관찰해도 '뭐해?' 하지 말고 놔두세요.</li><li><b>솔직한 피드백:</b> 빙빙 돌려 말하지 말고 직설적으로 말하는 게 편합니다.</li>",
                    beware: "<li><b>뻔한 코스 강요:</b> 남들 다 하는 관광지 투어는 지루해 죽으려 합니다.</li><li><b>스몰토크 강요:</b> 할 말 없는데 억지로 대화 이어나가려고 하지 마세요. 침묵도 편안해합니다.</li>",
                    role: "🔍 맛집 탐지견 & 인간 위키",
                    rule: "1. 멍때릴 때 방해 금지<br>2. 쓸데없는 고집부리지 않기<br>3. 밥때는 네가 챙기기 (안 챙기면 굶음)"
                },
                "ESTP": {
                    appeal: "<li><b>도파민 충전:</b> '이거 해보자! 저거 먹자!' 하고 즉흥적으로 지르세요.</li><li><b>내기/게임:</b> 밥값 내기 가위바위보 하자고 하면 눈빛이 살아납니다.</li>",
                    beware: "<li><b>설명충 금지:</b> 박물관 설명글 읽고 있으면 하품합니다. 몸으로 뛰는 걸 하세요.</li><li><b>진지충 금지:</b> 여행 와서까지 미래 걱정, 돈 걱정하면 분위기 싸해집니다.</li>",
                    role: "🔥 행동대장 & 협상가",
                    rule: "1. 고민할 시간에 출발하기<br>2. 밤 12시 전 취침 금지<br>3. 걷기보다 택시 타기"
                },
                "ESFP": {
                    appeal: "<li><b>무한 리액션:</b> 별거 아닌 거에도 물개박수 치면서 호응해주세요.</li><li><b>인생샷 건져주기:</b> 사진 못 찍으면 죄인입니다. 바닥에 누워서라도 길게 찍어주세요.</li>",
                    beware: "<li><b>혼자 두기 금지:</b> 외로움을 많이 탑니다. 화장실 갈 때도 같이 가주세요.</li><li><b>분위기 깨기:</b> 우울한 표정 짓고 있으면 '나 때문에 재미없나?' 하고 걱정합니다.</li>",
                    role: "🎉 분위기 메이커 & 섭외 부장",
                    rule: "1. 텐션 떨어뜨리지 않기<br>2. 1일 100장 사진 찍어주기<br>3. '오늘 너무 재밌다' 말하기"
                },
                "ENFP": {
                    appeal: "<li><b>우쭈쭈 해주기:</b> 물건 잃어버려도 '괜찮아, 찾으면 되지' 하고 달래주세요.</li><li><b>돌발 행동 즐기기:</b> 갑자기 춤추거나 노래해도 창피해하지 말고 같이 즐기세요.</li>",
                    beware: "<li><b>통제와 잔소리:</b> '가만히 좀 있어', '조용히 좀 해'라고 하면 시무룩해집니다.</li><li><b>무관심:</b> 리액션 없으면 '나 싫어하나?' 하고 혼자 땅 파고 들어갑니다.</li>",
                    role: "🐶 인간 리트리버 & 긍정킹",
                    rule: "1. 여권/지갑 대신 챙겨주기<br>2. 잃어버려도 화내지 않기<br>3. 끝없는 칭찬 폭격"
                },
                "ENTP": {
                    appeal: "<li><b>말싸움(?) 받아주기:</b> 시비 거는 게 아니라 토론하는 겁니다. 논리적으로 받아치면 좋아합니다.</li><li><b>도전적인 메뉴:</b> '개구리 뒷다리 튀김 먹어볼래?' 하면 눈이 반짝입니다.</li>",
                    beware: "<li><b>꼰대질 금지:</b> '원래 여행은 이런 거야'라고 가르치려 들면 바로 반기 듭니다.</li><li><b>무조건 복종:</b> 줏대 없이 '네가 하자는 대로 할게' 하면 재미없어 합니다.</li>",
                    role: "💡 아이디어 뱅크 & 통역사",
                    rule: "1. 뻔한 관광지 가지 않기<br>2. 징징거리지 않기<br>3. 토론을 피하지 않기"
                },
                "ESTJ": {
                    appeal: "<li><b>신속 정확한 보고:</b> '준비 다 했어? 5분 뒤 출발'처럼 깔끔하게 소통하세요.</li><li><b>규칙 준수:</b> 공금 사용 내역을 투명하게 공개하고, 시간 약속을 칼같이 지키세요.</li>",
                    beware: "<li><b>느긋함 금지:</b> '좀 쉬다 가자~'라며 밍기적거리면 눈에서 레이저 나옵니다.</li><li><b>계획 변경:</b> 합당한 이유 없이 일정을 바꾸자고 하면 납득하지 못합니다.</li>",
                    role: "👮 리더 & 총무 & 가이드",
                    rule: "1. 아침 7시 기상 (조식 필참)<br>2. 군말 없이 따르기<br>3. '충성' 마인드 장착"
                },
                "ESFJ": {
                    appeal: "<li><b>폭풍 감사 표현:</b> 예약해준 식당에서 '와 너 진짜 센스 미쳤다'라고 찬양하세요.</li><li><b>가족 챙기기:</b> 이 친구 부모님 선물까지 챙기면 당신은 평생 친구 확정입니다.</li>",
                    beware: "<li><b>개인플레이:</b> '난 피곤하니까 먼저 들어갈게'라며 빠지면 서운해합니다.</li><li><b>비판 금지:</b> 열심히 준비한 일정에 대해 불평하면 크게 상처받습니다.</li>",
                    role: "🤝 섭외 부장 & 엄마",
                    rule: "1. 단체 행동 준수하기<br>2. 밥 먹을 때 리액션 크게 하기<br>3. 호의를 당연히 여기지 않기"
                },
                "ENFJ": {
                    appeal: "<li><b>팀워크 강조:</b> '우리끼리 오니까 진짜 좋다'라는 말을 자주 해주세요.</li><li><b>경청하기:</b> 자신의 꿈이나 비전을 이야기할 때 눈을 반짝이며 들어주세요.</li>",
                    beware: "<li><b>이기적인 태도:</b> 자기 이득만 챙기려 하거나 배려 없는 모습을 제일 싫어합니다.</li><li><b>찬물 끼얹기:</b> 다들 신났는데 혼자 시큰둥하게 있으면 분위기 망친다고 생각합니다.</li>",
                    role: "🔥 열정 리더 & 멘토",
                    rule: "1. '우리'라는 단어 자주 쓰기<br>2. 밤샘 수다 각오하기<br>3. 긍정적인 말만 하기"
                },
                "ENTJ": {
                    appeal: "<li><b>능력 인정:</b> '네가 예약한 숙소 진짜 최고야, 역시 안목 있어'라고 치켜세우세요.</li><li><b>빠른 피드백:</b> 좋으면 좋다, 싫으면 싫다 확실하게 말하는 걸 선호합니다.</li>",
                    beware: "<li><b>시간 낭비:</b> 길바닥에서 멍하니 시간 보내는 걸 죄악으로 여깁니다.</li><li><b>우유부단함:</b> '글쎄.. 아무거나..'라고 하면 답답해서 속 터져 죽습니다.</li>",
                    role: "👑 황제 & 결정권자",
                    rule: "1. 대안 없이 태클 금지<br>2. 빠릿빠릿하게 움직이기<br>3. 리더십 인정해주기"
                }
            };

            function getSecretContent(you) {
                const data = secretData[you] || { appeal: "데이터 없음", beware: "데이터 없음", role: "데이터 없음", rule: "데이터 없음" };
                return data;
            }

            function validateAndShowResult(openCoupang = false) {
                const inputA = document.getElementById('mbti-a');
                const inputB = document.getElementById('mbti-b');
                const valA = inputA.value.toUpperCase().trim();
                const valB = inputB.value.toUpperCase().trim();
                if (!validMbtiList.includes(valA) || !validMbtiList.includes(valB)) { alert("정확한 MBTI 4글자를 입력해주세요!"); return; }
                if (openCoupang) {
                    window.open('https://link.coupang.com/a/ddddJ5', '_blank');
                    setTimeout(() => { showResult(valA, valB); }, 100);
                } else {
                    showResult(valA, valB);
                }
            }

            window.showResultDirect = function() {
                validateAndShowResult(false);
            };

            window.showResultWithCoupang = function() {
                validateAndShowResult(true);
            };

            // 문자열을 리스트로 변환
            const formatList = (str) => {
                if (!str) return "";
                return `<ul class="style-list space-y-2">` +
                    str.split(',').map(item => `<li>${item.trim()}</li>`).join('') +
                    `</ul>`;
            };

            function showResult(me, you) {
                const tData = mbtiData[you][Math.floor(Math.random() * mbtiData[you].length)];
                const harmony = getTravelHarmony(me, you);
                const secret = getSecretContent(you);

                const resultHTML = `
                    <div class="clean-card p-6 md:p-8 text-center relative overflow-hidden">
                        <h2 class="text-2xl font-extrabold text-slate-800 mb-2">
                            <span class="text-point">${you}</span> 친구는<br>"${tData.type}"
                        </h2>
                        <p class="text-sm text-slate-500 mb-6 font-medium">여행 스타일 분석</p>
                        
                        <div class="space-y-4 text-left">
                            <div class="bg-slate-50 p-5 rounded-xl border-l-4 border-sky-500">
                                <p class="font-bold text-sky-600 text-sm mb-3">👍 극호 (Like)</p>
                                <div class="text-slate-600 text-sm">${formatList(tData.like)}</div>
                            </div>
                            <div class="bg-slate-50 p-5 rounded-xl border-l-4 border-rose-500">
                                <p class="font-bold text-rose-500 text-sm mb-3">👎 극불호 (Dislike)</p>
                                <div class="text-slate-600 text-sm">${formatList(tData.dislike)}</div>
                            </div>
                        </div>
                        <div class="mt-5 text-xs text-slate-400 word-keep break-keep leading-relaxed bg-white border border-slate-100 p-3 rounded-lg">
                            <span class="font-bold">💡 Tip:</span> ${tData.tip}
                        </div>
                    </div>

                    <div class="clean-card p-6 md:p-8 text-center">
                        <h3 class="font-bold text-slate-400 text-xs tracking-widest mb-2">COMPATIBILITY SCORE</h3>
                        <div class="text-5xl font-black text-slate-800 mb-2">${harmony.score}<span class="text-2xl text-slate-300">/100</span></div>
                        
                        <div class="w-full bg-slate-100 rounded-full h-3 mb-6 overflow-hidden">
                            <div class="bg-gradient-to-r from-sky-400 to-indigo-500 h-3 rounded-full score-bar" style="width: 0%"></div>
                        </div>

                        <h4 class="text-lg font-bold text-slate-800 mb-1">${harmony.title}</h4>
                        <p class="text-sm text-slate-500 mb-4 leading-relaxed word-keep break-keep">${harmony.desc}</p>
                        
                        <div class="bg-slate-50 px-4 py-3 rounded-xl border border-slate-100 text-left text-sm text-slate-600 leading-snug word-keep break-keep">
                            ${harmony.conflict}
                        </div>
                    </div>

                    <div class="clean-card relative overflow-hidden" style="min-height: 450px;">
                        
                        <div class="p-6 md:p-8 h-full bg-white">
                            <div class="flex items-center justify-center gap-2 mb-8">
                                <span class="bg-slate-800 text-white text-xs font-bold px-3 py-1 rounded-full">PREMIUM</span>
                                <h4 class="font-bold text-slate-800 text-lg">절교 방지 상세 매뉴얼</h4>
                            </div>

                            <div class="space-y-6">
                                <div class="bg-sky-50 p-5 rounded-2xl border border-sky-100 shadow-sm">
                                    <h5 class="font-bold text-sky-700 text-sm mb-3 flex items-center">
                                        <i class="fas fa-magic mr-2"></i>친구 공략 치트키 (Do)
                                    </h5>
                                    <ul class="custom-list text-slate-700 text-sm leading-relaxed space-y-2">
                                        ${secret.appeal}
                                    </ul>
                                </div>

                                <div class="bg-rose-50 p-5 rounded-2xl border border-rose-100 shadow-sm">
                                    <h5 class="font-bold text-rose-700 text-sm mb-3 flex items-center">
                                        <i class="fas fa-bomb mr-2"></i>발작 버튼 (Don't)
                                    </h5>
                                    <ul class="custom-list text-slate-700 text-sm leading-relaxed space-y-2">
                                        ${secret.beware}
                                    </ul>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="bg-indigo-50 p-5 rounded-2xl border border-indigo-100 text-center flex flex-col justify-center">
                                        <p class="text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide">Best Position</p>
                                        <p class="text-lg font-black text-indigo-600 break-keep">${secret.role}</p>
                                    </div>
                                    <div class="bg-slate-50 p-5 rounded-2xl border border-slate-200">
                                        <p class="text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide text-center">평화 유지 3계명</p>
                                        <div class="text-sm font-bold text-slate-700 leading-loose text-center">
                                            ${secret.rule}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                document.getElementById('result-content').innerHTML = resultHTML;
                document.getElementById('input-page').classList.add('hidden');
                document.getElementById('result-page').classList.remove('hidden');
                window.scrollTo(0, 0);

                setTimeout(() => {
                    const bar = document.querySelector('.score-bar');
                    if(bar) bar.style.width = harmony.score + '%';
                }, 300);
            }

            document.getElementById('back-btn').addEventListener('click', () => {
                document.getElementById('input-page').classList.remove('hidden');
                document.getElementById('result-page').classList.add('hidden');
                document.getElementById('mbti-a').value = '';
                document.getElementById('mbti-b').value = '';
            });
        });
        
        window.shareLink = function() {
            const currentUrl = window.location.href;
            if (navigator.share) {
                navigator.share({
                    title: '우정 여행 판독기',
                    text: '우리 여행 가서 안 싸울 수 있을까? 여행 점수 확인해보기 ✈️',
                    url: currentUrl,
                });
            } else {
                const t = document.createElement("textarea");
                document.body.appendChild(t);
                t.value = currentUrl;
                t.select();
                document.execCommand('copy');
                document.body.removeChild(t);
                alert('링크가 복사되었습니다! 친구에게 공유하세요.');
            }
        }
    </script>
    
    <footer class="mt-12 pt-8 pb-6 border-t border-rose-200/30 text-center">
        <p class="text-xs text-slate-400">
            © 2025 재밌는웹페이지연구소. All rights reserved.
        </p>
    </footer>
</body>
</html>
