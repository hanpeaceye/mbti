<!DOCTYPE html>
<html lang="ko">
<head>
    <meta name="google-adsense-account" content="ca-pub-6540004747918466">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>썸남썸녀 공략 가이드 | 그 사람의 마음을 여는 열쇠</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-33VJ9T8RW5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-33VJ9T8RW5');
    </script>
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aimbti.xyz/some">
    <meta property="og:title" content="💘 썸남썸녀 MBTI 공략 가이드">
    <meta property="og:description" content="그 사람에게 어떻게 다가갈까? 플러팅 필승 전략과 카톡 말투까지 완벽 분석! 💌">
    <meta property="og:image" content="https://cdn-icons-png.flaticon.com/512/9355/9355325.png">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;800&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #fff1f2; color: #334155; }
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .clean-card { background: #ffffff; border: 1px solid #fda4af; border-radius: 24px; box-shadow: 0 4px 20px rgba(225, 29, 72, 0.05); }
        .text-point { color: #e11d48; }
        .score-bar { transition: width 1.5s ease-out; }
        .bounce-custom { animation: bounce 2s infinite; }
        
        /* 리스트 스타일 */
        .style-list { list-style: none; padding: 0; margin: 0; text-align: left; }
        .style-list li { position: relative; padding-left: 1rem; margin-bottom: 0.4rem; line-height: 1.5; font-size: 0.925rem; }
        .style-list li::before { content: ''; position: absolute; left: 0; top: 0.6em; width: 4px; height: 4px; border-radius: 50%; background-color: #e11d48; opacity: 0.7; }
    </style>
</head>
<body class="min-h-screen relative pb-10">

    <div class="w-full max-w-3xl mx-auto px-4 py-8">

        <div id="input-page" class="flex flex-col justify-center min-h-[80vh] fade-in">
            <div class="text-center mb-10">
                <span class="inline-block bg-white border border-rose-200 text-rose-500 text-xs font-bold px-3 py-1 rounded-full mb-3 tracking-wide">Flirting Strategy Guide</span>
                <h1 class="text-3xl md:text-4xl font-extrabold text-slate-900 mb-3 leading-tight">
                    그 사람,<br class="md:hidden">어떻게 <span class="text-point">꼬셔야</span> 할까? 💘
                </h1>
                <p class="text-slate-500 text-sm md:text-base">내 성향은 살리고 상대방 취향은 저격하는<br>200% 맞춤형 플러팅 전략</p>
            </div>

            <div class="clean-card p-8 md:p-10 shadow-lg bg-white">
                <div class="flex flex-col gap-6">
                    <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                        <div class="w-full">
                            <label class="block text-xs font-bold text-slate-400 mb-2 ml-1">나의 MBTI</label>
                            <input id="mbti-a" list="mbti-list" oninput="this.value = this.value.toUpperCase()" class="w-full bg-rose-50/50 border border-rose-200 rounded-xl p-4 text-center text-2xl font-bold uppercase text-slate-800 focus:border-rose-500 focus:ring-2 focus:ring-rose-100 outline-none transition placeholder-rose-300 tracking-widest" placeholder="ENFP" maxlength="4">
                        </div>
                        <i class="fas fa-heart text-rose-400 text-2xl animate-pulse mt-2 md:mt-0"></i>
                        <div class="w-full">
                            <label class="block text-xs font-bold text-slate-400 mb-2 ml-1">상대방 MBTI</label>
                            <input id="mbti-b" list="mbti-list" oninput="this.value = this.value.toUpperCase()" class="w-full bg-rose-50/50 border border-rose-200 rounded-xl p-4 text-center text-2xl font-bold uppercase text-slate-800 focus:border-rose-500 focus:ring-2 focus:ring-rose-100 outline-none transition placeholder-rose-300 tracking-widest" placeholder="ISTJ" maxlength="4">
                        </div>
                    </div>
                    
                    <button onclick="startAnalysis()" class="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-5 rounded-xl shadow-lg text-lg transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 mt-4">
                        <span>공략법 확인하기</span> <i class="fas fa-key"></i>
                    </button>
                </div>
            </div>
            
            <div class="mt-10 w-full max-w-3xl">
                <div class="text-center mb-6 relative">
                    <div class="absolute inset-0 flex items-center" aria-hidden="true">
                        <div class="w-full border-t border-slate-200"></div>
                    </div>
                    <div class="relative flex justify-center">
                        <span class="bg-slate-50 px-4 text-xs font-bold text-slate-400 tracking-widest uppercase">BONUS</span>
                    </div>
                    <h3 class="mt-4 text-slate-800 font-bold text-sm animate-bounce">
                        🛍️ 쿠팡 아이쇼핑 잠깐 하고<br>다른 테스트 하러 가기
                    </h3>
                </div>
                
                <div class="grid grid-cols-2 gap-3 md:gap-4">
                    <button onclick="goTest('/')" class="bg-white border border-rose-100 p-4 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group flex flex-col items-center text-center w-full">
                        <div class="w-10 h-10 bg-rose-50 rounded-full flex items-center justify-center text-rose-500 mb-2 group-hover:scale-110 transition-transform"><i class="fas fa-heart-broken"></i></div>
                        <h3 class="font-bold text-slate-700 text-sm">커플 싸움 판독기</h3>
                        <p class="text-[10px] text-slate-400 mt-1">왜 싸우는지 분석</p>
                    </button>
                    <button onclick="goTest('/some')" class="bg-white border border-pink-100 p-4 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group flex flex-col items-center text-center w-full">
                        <div class="w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center text-pink-500 mb-2 group-hover:scale-110 transition-transform"><i class="fas fa-kiss-wink-heart"></i></div>
                        <h3 class="font-bold text-slate-700 text-sm">썸남썸녀 공략</h3>
                        <p class="text-[10px] text-slate-400 mt-1">플러팅 필승 전략</p>
                    </button>
                    <button onclick="goTest('/friends-travel')" class="bg-white border border-sky-100 p-4 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group flex flex-col items-center text-center w-full">
                        <div class="w-10 h-10 bg-sky-50 rounded-full flex items-center justify-center text-sky-500 mb-2 group-hover:scale-110 transition-transform"><i class="fas fa-plane"></i></div>
                        <h3 class="font-bold text-slate-700 text-sm">우정 여행 판독기</h3>
                        <p class="text-[10px] text-slate-400 mt-1">절교 방지 가이드</p>
                    </button>
                    <button onclick="goTest('/biz')" class="bg-white border border-indigo-100 p-4 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group flex flex-col items-center text-center w-full">
                        <div class="w-10 h-10 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-500 mb-2 group-hover:scale-110 transition-transform"><i class="fas fa-briefcase"></i></div>
                        <h3 class="font-bold text-slate-700 text-sm">직장상사 공략</h3>
                        <p class="text-[10px] text-slate-400 mt-1">사회생활 치트키</p>
                    </button>
                </div>
            </div>
        </div>

        <div id="result-page" class="hidden fade-in">
            <div class="flex items-center justify-between mb-6">
                <button onclick="resetPage()" class="text-slate-400 hover:text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors">
                    <i class="fas fa-chevron-left"></i> 다시하기
                </button>
                <span class="text-[10px] font-bold text-rose-500 bg-rose-100 px-2 py-1 rounded">VER 4.0 MESSENGER+</span>
            </div>

            <div id="result-content" class="space-y-6"></div>

            <div class="mt-12 pt-8 border-t border-rose-200/50">
                <h3 class="text-center font-bold text-slate-800 mb-6">👀 다른 테스트도 해보세요!</h3>
                <div class="grid grid-cols-2 gap-3">
                    <a href="/" class="clean-card p-4 text-center hover:shadow-md transition-shadow group bg-white">
                        <div class="w-10 h-10 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-2 text-rose-500 group-hover:scale-110 transition-transform"><i class="fas fa-heart-broken"></i></div>
                        <p class="text-sm font-bold text-slate-700">커플 싸움 판독기</p>
                        <p class="text-[10px] text-slate-400">우리가 싸우는 이유</p>
                    </a>
                    <a href="/biz" class="clean-card p-4 text-center hover:shadow-md transition-shadow group bg-white">
                        <div class="w-10 h-10 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-2 text-indigo-500 group-hover:scale-110 transition-transform"><i class="fas fa-briefcase"></i></div>
                        <p class="text-sm font-bold text-slate-700">직장상사 공략</p>
                        <p class="text-[10px] text-slate-400">사회생활 치트키</p>
                    </a>
                </div>
            </div>

            <div class="mt-6 flex flex-col md:flex-row items-center justify-center gap-3 w-full px-4">
                <button onclick="shareLink()" class="w-full md:w-auto inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-rose-200 rounded-full shadow-sm text-slate-600 font-bold hover:bg-rose-50 transition-all text-sm group">
                    <i class="fas fa-share-alt group-hover:text-rose-500 transition-colors"></i> 친구에게 결과 공유하기
                </button>
                <a href="https://link.coupang.com/a/ddddJ5" target="_blank" class="w-full md:w-auto inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-yellow-400 to-orange-500 border border-orange-400 rounded-full shadow-sm text-white font-bold hover:opacity-90 transition-all text-sm animate-bounce">
                    <i class="fas fa-shopping-cart"></i> 아 맞다 나 쿠팡에 살거있다!
                </a>
            </div>
            
            <div class="mt-8 flex justify-center w-full overflow-hidden">
                <iframe src="https://ads-partners.coupang.com/widgets.html?id=950069&template=carousel&trackingCode=AF3238435&subId=&width=680&height=160&tsource=" width="680" height="160" frameborder="0" scrolling="no" referrerpolicy="unsafe-url" browsingtopics style="max-width: 100%;"></iframe>
            </div>
        </div>
    </div>

    <footer class="mt-12 pt-8 pb-6 border-t border-rose-200/30 text-center">
        <p class="text-xs text-slate-400">
            © 2025 재밌는웹페이지연구소. All rights reserved.
        </p>
    </footer>

    <div class="fixed bottom-2 right-2 text-[10px] text-slate-300 font-mono pointer-events-none select-none z-50">Ver 4.0 Messenger+</div>
    <datalist id="mbti-list"></datalist>

    <script>
        // 전역 함수 정의
        function goTest(targetUrl) {
            window.open('https://link.coupang.com/a/ddddJ5', '_blank');
            setTimeout(() => { location.href = targetUrl; }, 100);
        }

        function shareLink() {
            const currentUrl = window.location.href;
            if (navigator.share) {
                navigator.share({ title: '썸남썸녀 공략 가이드', text: '그 사람 마음을 얻는 치트키 발견! 너도 한번 해봐 😎', url: currentUrl });
            } else {
                const t = document.createElement("textarea"); document.body.appendChild(t); t.value = currentUrl; t.select(); document.execCommand('copy'); document.body.removeChild(t); alert('링크 복사 완료!');
            }
        }

        function resetPage() {
            document.getElementById('input-page').classList.remove('hidden');
            document.getElementById('result-page').classList.add('hidden');
            document.getElementById('mbti-a').value = '';
            document.getElementById('mbti-b').value = '';
            window.scrollTo(0, 0);
        }

        function startAnalysis() {
            const validMbtiList = ["ISTJ","ISFJ","INFJ","INTJ","ISTP","ISFP","INFP","INTP","ESTP","ESFP","ENFP","ENTP","ESTJ","ESFJ","ENFJ","ENTJ"];
            const inputA = document.getElementById('mbti-a');
            const inputB = document.getElementById('mbti-b');
            const valA = inputA.value.toUpperCase().trim();
            const valB = inputB.value.toUpperCase().trim();

            if (!validMbtiList.includes(valA) || !validMbtiList.includes(valB)) {
                alert("정확한 MBTI 4글자를 입력해주세요! (예: ENFP)");
                return;
            }
            
            window.open('https://link.coupang.com/a/ddddJ5', '_blank');
            
            setTimeout(() => {
            // 데이터 정의 (함수 내부로 이동하여 스코프 문제 방지)
            const mbtiData = {
                "ISTJ": { type: "신중한 계획가형", like: "시간 약속 준수, 단정한 외모와 옷차림, 예측 가능한 데이트 일정(영화-밥-카페), 예의 바른 태도", dislike: "당일 아침 번개 만남, 시끄러운 클럽이나 헌팅포차, 허세 부리며 없는 말 지어내기, 약속 지각", tip: "'언제 밥 한번 먹자'는 말은 이들에게 인사치레입니다. '이번 주 토요일 6시에 강남역 3번 출구 파스타집 어때요?'라고 구체적으로 제안해야 움직입니다." },
                "ISFJ": { type: "섬세한 배려왕", like: "사소한 말 기억해서 챙겨주기, 식당 직원에게 인사 잘하는 모습, 시끄럽지 않은 카페, 진심 담긴 카톡", dislike: "자기주장만 내세우는 고집, 욕설이나 비속어 사용, 질투 유발 작전, 연락 텀이 너무 긴 것", tip: "급발진은 절대 금물! 당신이 안전하고 따뜻한 사람이라는 확신이 들 때까지 '천천히' 스며들어야 합니다. 부담 주지 말고 챙겨주세요." },
                "INFJ": { type: "신비로운 철학자", like: "둘만의 깊은 대화(인생관, 가치관), 조용한 와인바, 진정성 있는 눈빛 교환, 도덕적 신념", dislike: "가벼운 농담 따먹기, 거짓말이나 위선적인 태도, 시끄러운 파티 문화, 선 넘는 장난", tip: "겉모습보다 내면에 관심을 가져주세요. '너는 그 일에 대해 어떻게 생각해?'라고 깊게 물어봐 주면 당신을 특별하게 생각할 것입니다." },
                "INTJ": { type: "지적인 야망가", like: "논리적이고 건설적인 대화, 배울 점이 있는 유능한 모습, 효율적인 데이트 코스, 내 꿈을 지지해주는 멘트", dislike: "감정에만 호소하는 징징거림, 멍청하거나 무계획적인 행동, 시간 낭비하는 만남, 뻔한 아부", tip: "밀당하지 마세요. 시간 낭비입니다. 호감이 있다면 '너랑 더 알아가고 싶어'라고 직설적이고 논리적으로 말하는 게 효과적입니다." },
                "ISTP": { type: "시크한 고양이", like: "혼자만의 시간 존중, 쿨하고 독립적인 태도, 용건만 간단히 하는 깔끔함, 함께 즐기는 취미", dislike: "질척거리는 집착('지금 뭐해?'), 감정적인 드라마 찍기, 답장 재촉하기, 오글거리는 멘트", tip: "고양이 다루듯 하세요. 다가오면 놀아주고, 멀어지면 놔두세요. 쫓아가면 도망갑니다. 쿨하게 대할수록 매력을 느낍니다." },
                "ISFP": { type: "감성적인 예술가", like: "감각적인 인테리어의 카페, 세심하게 챙겨주는 매너, 구체적이고 예쁜 칭찬, 편안한 침묵", dislike: "결정을 강요하고 재촉하는 것('빨리 골라'), 목소리 크고 거친 사람, 비판적인 지적질, 갈등 상황", tip: "리드는 하되 강요는 마세요. '이거 할래?' 보다는 '이거 어때?'라고 부드럽게 물어봐 주는 게 포인트입니다." },
                "INFP": { type: "낭만적인 몽상가", like: "깊은 공감과 경청, 낭만적인 분위기, 예쁜 말과 손편지, 독특한 취향 존중", dislike: "차가운 팩트 폭격, 내 말을 무시하는 태도, 속물적인 대화(돈, 현실), 강압적인 분위기", tip: "현실적인 조언보다는 무조건적인 '내 편'이 되어주세요. 작은 선물이나 따뜻한 말 한마디에 크게 감동하여 사랑에 빠집니다." },
                "INTP": { type: "호기심 많은 괴짜", like: "마이너한 관심사(우주, 미스터리 등) 공유, 지적인 자극, 멍 때리는 시간 존중, 엉뚱한 유머", dislike: "뻔한 스몰토크(날씨, 밥 먹었니), 논리 없는 감정적 주장, 사생활 꼬치꼬치 캐묻는 것, 답답한 행동", tip: "그 사람이 꽂혀있는 주제에 대해 질문하세요. 신나서 떠들기 시작하면 이미 반은 넘어온 겁니다. 지적으로 통하는 게 중요합니다." },
                "ESTP": { type: "화끈한 직진러", like: "스릴 넘치는 액티비티, 돌려 말하지 않는 직설적인 호감 표현, 맛집 탐방, 센스 있는 유머", dislike: "답답하게 뜸 들이기, 지나치게 진지하고 무거운 분위기, 구속하거나 통제하려는 시도, 지루함", tip: "고민할 시간에 일단 지르세요! '지금 나와, 드라이브 가자' 같은 박력 있는 제안이 먹힙니다. 함께 있을 때 즐거워야 합니다." },
                "ESFP": { type: "주목받는 연예인", like: "관심과 칭찬 폭격, 서프라이즈 이벤트, 무한 리액션, 핫플레이스 데이트", dislike: "침묵과 정적, 투명 인간 취급, 지루한 설교나 잔소리, 집에만 박혀있는 것, 우울한 얘기", tip: "텐션을 올리세요! '너랑 있으니까 진짜 재밌다', '오늘 옷 너무 예쁘다' 칭찬 폭격이 필요합니다. 리액션이 곧 사랑입니다." },
                "ENFP": { type: "사랑둥이 댕댕이", like: "우쭈쭈 해주기, 엉뚱한 말에도 맞장구쳐주기, 끊임없는 애정 표현, 새로운 경험 함께하기", dislike: "무관심, 차가운 반응, 엄격한 규칙 강요, 반복되는 지루한 일상, 혼자 두는 것", tip: "사소한 변화도 알아봐 주고 칭찬해주세요. 당신의 관심이 곧 사랑의 척도라고 생각합니다. 함께 새로운 곳을 모험하세요." },
                "ENTP": { type: "매력적인 논쟁가", like: "티키타카 잘되는 말싸움, 새로운 아이디어 제안, 인정해 주는 것, 쿨한 태도", dislike: "권위적으로 찍어 누르기, 무조건적인 복종 강요, 뻔하고 지루한 칭찬, 통제", tip: "논쟁을 피하지 말고 즐기세요. 지적으로 대등한 상대라고 느낄 때 강렬한 끌림을 느낍니다. 지루할 틈을 주지 마세요." },
                "ESTJ": { type: "확실한 리더형", like: "일 잘하는 모습, 확실한 호불호 표현, 체계적이고 효율적인 데이트 계획, 시간 약속 엄수", dislike: "우유부단함, 약속 어기기, 게으르고 무능력한 태도, 감정에 치우쳐 징징거림", tip: "감정보다는 이성에 호소하세요. 당신이 배울 점이 있고 미래를 함께 그릴 수 있는 듬직한 사람임을 어필하세요." },
                "ESFJ": { type: "다정한 인싸", like: "고맙다는 표현 자주 하기, 세심함, 빠른 답장과 활발한 리액션, 공감해주기", dislike: "읽씹/안읽씹, 호의 무시, 예의 없는 행동, 비판적인 태도", tip: "그 사람이 베푸는 친절에 크게 감동하고 표현하세요. '너 같은 사람 처음이야'라는 말이 특효약입니다." },
                "ENFJ": { type: "열정적인 코치", like: "꿈과 비전 응원, 긍정적인 대화, 먼저 다가와서 챙겨주는 따뜻함, 경청하는 자세", dislike: "이기적인 행동, 무례함, 비관적인 말과 불평불만, 소극적인 태도", tip: "그 사람의 선한 영향력을 칭찬하세요. '너 덕분에 내가 더 좋은 사람이 된 것 같아'는 최고의 고백입니다." },
                "ENTJ": { type: "카리스마 대장", like: "도전적이고 야망 있는 모습, 솔직한 화법, 일 잘하는 프로페셔널함, 자기계발", dislike: "의존적인 태도, 게으름, 시간 낭비하는 무의미한 대화, 우유부단함", tip: "주눅 들지 말고 당당하게 대하세요. 자신의 일에 몰입하고 성취해내는 멋진 모습을 보여줄 때 반합니다." }
            };

            const secretData = {
                "S": { appeal: "👀 <b>시각적 자극:</b><br>'오늘 예쁘다'보다 '오늘 입은 옷 진짜 잘 어울려'라고 구체적으로 칭찬하세요. 깔끔한 외모는 필수입니다.", beware: "☁️ <b>뜬구름 잡기:</b><br>'만약에 좀비가 나타나면...' 같은 비현실적인 주제보다 '지금 맛있는 거', '오늘 날씨' 이야기를 하세요." },
                "N": { appeal: "✨ <b>상상력 자극:</b><br>'너는 인생에서 뭐가 제일 중요해?' 같은 심오한 질문을 던지세요. 독특한 취향(영화, 음악)을 어필하면 흥미를 느낍니다.", beware: "🤖 <b>현실주의:</b><br>상대방의 꿈이나 상상을 '그건 돈이 안 되잖아', '현실적으로 불가능해'라고 짓밟지 마세요. 꼰대로 찍힙니다." },
                "T": { appeal: "🧠 <b>지적인 매력:</b><br>자기 일 잘하고 똑부러지는 모습을 보여주세요. 고민 상담할 때 감정에 호소하기보다 '그래서 이렇게 해결하려고 해'라고 주관을 보여주세요.", beware: "😭 <b>감정 과잉:</b><br>아직 사귀지도 않는데 징징거리거나 서운해하면 '피곤한 스타일'이라며 도망갑니다. 쿨하게 대하세요." },
                "F": { appeal: "🥰 <b>다정한 공감:</b><br>눈을 맞추고 고개를 끄덕여주세요. '정말? 힘들었겠다'라는 말 한마디가 그 사람의 마음을 엽니다. 사소한 배려에 심장이 반응합니다.", beware: "❄️ <b>차가운 말투:</b><br>장난이라도 팩폭을 날리면 상처받고 마음을 닫습니다. 비판할 때는 반드시 쿠션어('너를 위해서 하는 말인데~')를 사용하세요." },
                "J": { role: "📅 계획적인 접근", good: "약속 시간 엄수 & 데이트 코스 준비", bad: "당일 약속 취소 & '아무거나' 시전" },
                "P": { role: "🎉 유연한 접근", good: "즉흥적인 제안 & 돌발 상황 즐기기", bad: "하나부터 열까지 통제하려 들기" }
            };

            // 나의 MBTI 기준 상대방에게 조심해야 할 점
            function getMyCautionPoints(myMbti, theirMbti) {
                const mySN = myMbti.includes('S') ? 'S' : 'N';
                const myTF = myMbti.includes('T') ? 'T' : 'F';
                const myJP = myMbti.includes('J') ? 'J' : 'P';
                const theirSN = theirMbti.includes('S') ? 'S' : 'N';
                const theirTF = theirMbti.includes('T') ? 'T' : 'F';
                const theirJP = theirMbti.includes('J') ? 'J' : 'P';
                
                let cautions = [];
                
                // S vs N 충돌
                if (mySN === 'S' && theirSN === 'N') {
                    cautions.push("⚠️ <b>당신은 현실적(S)인데 상대는 상상력(N)을 좋아해요.</b> '만약에...' 같은 가정 질문에 답답해하지 말고, 함께 상상의 나래를 펼쳐보세요.");
                } else if (mySN === 'N' && theirSN === 'S') {
                    cautions.push("⚠️ <b>당신은 추상적(N)인데 상대는 구체적(S)을 원해요.</b> '뭐 먹을래?' 같은 질문에 '아무거나'라고 하지 말고, '파스타 어때?'처럼 구체적으로 제안하세요.");
                }
                
                // T vs F 충돌
                if (myTF === 'T' && theirTF === 'F') {
                    cautions.push("🚨 <b>최대 주의!</b> 당신은 해결책(T)을 주려 하지만, 상대는 <b>공감(F)</b>을 원합니다. '이렇게 해봐'보다 '힘들었겠다, 속상했겠다'를 먼저 말하세요.");
                } else if (myTF === 'F' && theirTF === 'T') {
                    cautions.push("🚨 <b>최대 주의!</b> 당신은 위로(F)를 원하지만, 상대는 <b>해결책(T)</b>을 원합니다. 감정 호소보다 '이렇게 해결하려고 해'라고 말하세요.");
                }
                
                // J vs P 충돌
                if (myJP === 'J' && theirJP === 'P') {
                    cautions.push("⚠️ <b>당신은 계획(J)을 좋아하지만 상대는 유연함(P)을 원해요.</b> 약속을 너무 구체적으로 잡지 말고, 30분 정도 여유를 두세요.");
                } else if (myJP === 'P' && theirJP === 'J') {
                    cautions.push("⚠️ <b>당신은 즉흥적(P)이지만 상대는 계획(J)을 원해요.</b> '지금 나와' 같은 번개는 금물! 최소 하루 전에 약속을 잡으세요.");
                }
                
                return cautions.length > 0 ? cautions.join('<br><br>') : "✨ 당신과 상대방의 성향이 잘 맞아요! 자연스럽게 대화하면 됩니다.";
            }

            // 메신저 주의사항
            function getMessengerTips(myMbti, theirMbti) {
                const theirTF = theirMbti.includes('T') ? 'T' : 'F';
                const theirJP = theirMbti.includes('J') ? 'J' : 'P';
                
                let tips = [];
                
                if (theirTF === 'T') {
                    tips.push("<b>용건만 간결하게:</b> '안녕~ 오늘 뭐해? 밥 먹었어? 어제 잠은 잘 잤어?' 같은 연속 질문은 부담스러워요. '오늘 저녁 시간 되나요?'처럼 한 번에 용건을 말하세요.");
                    tips.push("<b>이모티콘 절제:</b> 과도한 이모티콘(😍💕💖💝)은 '감정 과다'로 느껴질 수 있어요. 적당히 사용하세요.");
                } else {
                    tips.push("<b>리액션 필수:</b> 'ㅋㅋ', '대박', '진짜?' 같은 반응을 자주 넣어주세요. 읽씹하면 '무관심'으로 오해받아요.");
                    tips.push("<b>이모티콘 활용:</b> 😊💕 같은 이모티콘으로 따뜻함을 전달하세요. 텍스트만으로는 감정 전달이 어려워요.");
                }
                
                if (theirJP === 'J') {
                    tips.push("<b>약속은 구체적으로:</b> '언제 한번 만나자'는 인사치레예요. '이번 주 토요일 6시 강남역 어때요?'처럼 구체적으로 제안하세요.");
                    tips.push("<b>답장 타이밍:</b> 너무 빠르게 답장하면 부담스러울 수 있어요. 1-2시간 간격이 적당합니다.");
                } else {
                    tips.push("<b>즉흥 제안 OK:</b> '지금 나와' 같은 번개 제안도 괜찮아요! 유연하게 대응하는 모습이 매력적입니다.");
                    tips.push("<b>답장 속도:</b> 빠른 답장이 좋아요. 읽씹하면 '관심 없나?'라고 생각할 수 있어요.");
                }
                
                return tips.map(tip => `<div class="mb-3 last:mb-0">${tip}</div>`).join('');
            }

            // 전화 주의사항
            function getCallTips(myMbti, theirMbti) {
                const theirTF = theirMbti.includes('T') ? 'T' : 'F';
                const theirJP = theirMbti.includes('J') ? 'J' : 'P';
                const theirEI = theirMbti.includes('E') ? 'E' : 'I';
                
                let tips = [];
                
                if (theirEI === 'I') {
                    tips.push("<b>전화 전 카톡으로 사전 공지:</b> 내향형(I)은 갑작스러운 전화를 부담스러워해요. '지금 통화 괜찮아요?'라고 먼저 물어보세요.");
                    tips.push("<b>짧고 굵게:</b> 장시간 통화는 피로해요. 10-15분 정도로 핵심만 말하고 마무리하세요.");
                } else {
                    tips.push("<b>전화로 대화 OK:</b> 외향형(E)은 전화 대화를 즐겨요. 긴 대화도 문제없습니다.");
                    tips.push("<b>즉흥 통화 가능:</b> 갑자기 전화해도 괜찮아요. 오히려 '생각났다'는 느낌이 좋습니다.");
                }
                
                if (theirTF === 'T') {
                    tips.push("<b>용건부터 말하기:</b> '어떻게 지내?' 같은 인사보다 '이거 물어볼 게 있어서'처럼 용건을 먼저 말하세요.");
                    tips.push("<b>감정 표현 절제:</b> '너무 보고 싶어서 전화했어' 같은 감정 표현은 부담스러울 수 있어요.");
                } else {
                    tips.push("<b>따뜻한 인사 먼저:</b> '어떻게 지내? 요즘 잘 지내?' 같은 안부 인사를 먼저 하세요.");
                    tips.push("<b>감정 표현 OK:</b> '너무 보고 싶어서 전화했어' 같은 솔직한 표현이 좋아요.");
                }
                
                if (theirJP === 'J') {
                    tips.push("<b>시간 약속:</b> '30분 후에 통화할까요?'처럼 시간을 정해서 통화하는 게 좋아요.");
                } else {
                    tips.push("<b>즉흥 통화:</b> '지금 통화 괜찮아요?'라고 바로 물어봐도 OK입니다.");
                }
                
                return tips.map(tip => `<div class="mb-3 last:mb-0">${tip}</div>`).join('');
            }

            const formatList = (str) => {
                if (!str) return "";
                return `<ul class="style-list space-y-2">` + str.split(',').map(item => `<li>${item.trim()}</li>`).join('') + `</ul>`;
            };

            // 점수 계산 로직
            let score = 50; 
            const sameSN = (valA.includes('S') === valB.includes('S'));
            const sameTF = (valA.includes('T') === valB.includes('T'));
            const sameJP = (valA.includes('J') === valB.includes('J'));

            if(sameSN) score += 20; else score -= 10;
            if(sameJP) score += 10; else score -= 5;
            if(!sameTF) score += 15; 
            score = Math.min(100, Math.max(10, score));

            let title, desc, conflict;
            if (score >= 80) { title = "🔥 썸 단계 생략 가능!"; desc = "만나자마자 스파크가 튑니다. 오늘부터 1일 해도 될 정도예요."; }
            else if (score >= 60) { title = "💖 그린라이트 켜짐"; desc = "서로 호감이 생길 확률이 매우 높습니다. 조금만 용기 내세요."; }
            else if (score >= 40) { title = "⚡ 노력하면 썸 가능"; desc = "매력을 느끼지만 접근 방식에 주의가 필요합니다."; }
            else { title = "🌪 공략 난이도 최상"; desc = "취향이 완전히 다릅니다. 하지만 원래 나쁜 남자/여자에게 끌리는 법이죠."; }

            if (!sameTF) {
                if (valA.includes('T')) conflict = "⚠️ <b>[접근 주의]</b> 논리적인 해결책 제시는 잠시 넣어두세요. 상대방(F)은 <b>공감과 리액션</b>을 원합니다. '그랬구나' 연습하세요.";
                else conflict = "⚠️ <b>[접근 주의]</b> 감정적인 호소는 부담스러울 수 있어요. 상대방(T)에게는 <b>깔끔하고 명확하게</b> 용건을 말하는 게 좋습니다. 징징대지 마세요.";
            } else {
                conflict = "✨ <b>[어필 포인트]</b> 대화 코드가 잘 맞아서 금방 친해질 수 있어요! 공통 관심사만 찾으면 게임 끝입니다.";
            }

            // 결과 화면 구성
            const tData = mbtiData[valB];
            const snKey = valB.includes('S') ? 'S' : 'N';
            const tfKey = valB.includes('T') ? 'T' : 'F';
            const jpKey = valB.includes('J') ? 'J' : 'P';
            
            const secretAppeal = secretData[snKey].appeal + "<br><br>" + secretData[tfKey].appeal;
            const secretBeware = secretData[snKey].beware + "<br><br>" + secretData[tfKey].beware;
            const secretRole = secretData[jpKey];
            
            // 나의 MBTI 기준 주의사항
            const myCaution = getMyCautionPoints(valA, valB);
            const messengerTips = getMessengerTips(valA, valB);
            const callTips = getCallTips(valA, valB);

            const resultHTML = `
                <div class="clean-card p-6 md:p-8 bg-white">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl font-extrabold text-slate-800 mb-2">
                            <span class="text-point">${valB}</span> 그 사람은<br>"${tData.type}"
                        </h2>
                    </div>
                    <div class="space-y-4 text-left">
                        <div class="bg-rose-50 p-5 rounded-xl border-l-4 border-rose-400">
                            <p class="font-bold text-rose-600 text-sm mb-3 flex items-center"><i class="fas fa-heart mr-2"></i>호감 포인트 (Like)</p>
                            <div class="text-slate-600 text-sm">${formatList(tData.like)}</div>
                        </div>
                        <div class="bg-slate-50 p-5 rounded-xl border-l-4 border-slate-400">
                            <p class="font-bold text-slate-600 text-sm mb-3 flex items-center"><i class="fas fa-times-circle mr-2"></i>정떨어지는 행동 (Dislike)</p>
                            <div class="text-slate-600 text-sm">${formatList(tData.dislike)}</div>
                        </div>
                    </div>
                    <div class="mt-5 text-xs text-slate-400 word-keep break-keep leading-relaxed bg-indigo-50 border border-indigo-100 p-3 rounded-lg">
                        <span class="font-bold text-indigo-600 flex items-center"><i class="fas fa-lightbulb mr-1"></i>꼬시기 Tip:</span> <span class="text-slate-600">${tData.tip}</span>
                    </div>
                </div>

                <div class="clean-card p-6 md:p-8 text-center bg-white">
                    <h3 class="font-bold text-slate-400 text-xs tracking-widest mb-2">FLIRTING SCORE</h3>
                    <div class="text-5xl font-black text-rose-500 mb-2">${score}<span class="text-2xl text-slate-300">/100</span></div>
                    <div class="w-full bg-slate-100 rounded-full h-3 mb-6 overflow-hidden">
                        <div class="bg-gradient-to-r from-rose-300 to-rose-600 h-3 rounded-full score-bar" style="width: 0%"></div>
                    </div>
                    <h4 class="text-lg font-bold text-slate-800 mb-1">${title}</h4>
                    <p class="text-sm text-slate-500 mb-4 leading-relaxed word-keep break-keep">${desc}</p>
                    <div class="bg-slate-50 px-4 py-3 rounded-xl border border-slate-100 text-left text-sm text-slate-600 leading-snug word-keep break-keep">
                        ${conflict}
                    </div>
                </div>

                <div class="clean-card relative overflow-hidden bg-white">
                    <div class="p-6 md:p-8 h-full bg-white">
                        <div class="flex items-center justify-center gap-2 mb-8">
                            <span class="bg-slate-800 text-white text-xs font-bold px-3 py-1 rounded-full">PREMIUM</span>
                            <h4 class="font-bold text-slate-800 text-lg">맞춤 플러팅 가이드</h4>
                        </div>
                        <div class="space-y-6">
                            <div class="bg-rose-50 p-5 rounded-2xl border border-rose-100 shadow-sm">
                                <h5 class="font-bold text-rose-600 text-sm mb-3 flex items-center"><i class="fas fa-heart mr-2"></i>심쿵 포인트 (Appeal)</h5>
                                <div class="text-slate-700 text-sm leading-relaxed">${secretAppeal}</div>
                            </div>
                            <div class="bg-slate-50 p-5 rounded-2xl border border-slate-200 shadow-sm">
                                <h5 class="font-bold text-slate-600 text-sm mb-3 flex items-center"><i class="fas fa-ban mr-2"></i>절대 금지 (Beware)</h5>
                                <div class="text-slate-700 text-sm leading-relaxed">${secretBeware}</div>
                            </div>
                            <div class="bg-red-50 p-5 rounded-2xl border-l-4 border-red-500 shadow-sm">
                                <h5 class="font-bold text-red-600 text-sm mb-3 flex items-center"><i class="fas fa-exclamation-triangle mr-2"></i>내가 조심해야 할 점 (${valA} 기준)</h5>
                                <div class="text-slate-700 text-sm leading-relaxed">${myCaution}</div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-5 rounded-2xl border border-blue-200 shadow-sm">
                                <h5 class="font-bold text-blue-600 text-sm mb-4 flex items-center"><i class="fas fa-comments mr-2"></i>통신 주의사항</h5>
                                <div class="space-y-4">
                                    <div>
                                        <h6 class="font-semibold text-blue-700 text-xs mb-2 flex items-center"><i class="fas fa-comment-dots mr-1 text-xs"></i>카톡/메신저</h6>
                                        <div class="text-slate-700 text-sm leading-relaxed pl-4 border-l-2 border-blue-200">${messengerTips}</div>
                                    </div>
                                    <div>
                                        <h6 class="font-semibold text-purple-700 text-xs mb-2 flex items-center"><i class="fas fa-phone mr-1 text-xs"></i>전화</h6>
                                        <div class="text-slate-700 text-sm leading-relaxed pl-4 border-l-2 border-purple-200">${callTips}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="bg-indigo-50 p-5 rounded-2xl border border-indigo-100 text-center flex flex-col justify-center">
                                    <p class="text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide">Approaching Style</p>
                                    <p class="text-lg font-black text-indigo-600 break-keep">${secretRole.role}</p>
                                </div>
                                <div class="bg-white p-5 rounded-2xl border border-slate-200">
                                    <div class="text-xs text-blue-600 font-bold mb-2 flex items-center justify-center"><i class="fas fa-check-circle mr-1"></i>${secretRole.good}</div>
                                    <div class="text-xs text-rose-500 font-bold flex items-center justify-center"><i class="fas fa-times-circle mr-1"></i>${secretRole.bad}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('result-content').innerHTML = resultHTML;
            document.getElementById('input-page').classList.add('hidden');
            document.getElementById('result-page').classList.remove('hidden');
            window.scrollTo(0, 0);
            
            setTimeout(() => { 
                const bar = document.querySelector('.score-bar'); 
                if(bar) bar.style.width = score + '%'; 
            }, 300);
            }, 100);
        }

        // 초기화
        const validMbtiList = ["ISTJ","ISFJ","INFJ","INTJ","ISTP","ISFP","INFP","INTP","ESTP","ESFP","ENFP","ENTP","ESTJ","ESFJ","ENFJ","ENTJ"];
        const dataList = document.getElementById('mbti-list');
        validMbtiList.forEach(t => { let opt = document.createElement('option'); opt.value = t; dataList.appendChild(opt); });
    </script>
</body>
</html>
